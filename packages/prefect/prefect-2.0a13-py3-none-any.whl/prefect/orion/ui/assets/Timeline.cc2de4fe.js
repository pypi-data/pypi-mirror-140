import{e as v,u as w,av as y,f as s,ao as h,r as k,o as u,h as d,w as b,d as g,g as o,i as B}from"./vendor.e30a69e6.js";import{T as C}from"./Timeline.5273a3b1.js";import{_ as R,A as a,E as _}from"./index.e1930792.js";const T={class:"timeline-content py-2 px-2 d-flex flex-grow-1"},q=v({async setup(j){let t,r;const i=w(),n=([t,r]=y(()=>a.query({endpoint:_.flow_run,body:{id:i.params.id},options:{pollInterval:5e3}}).fetch()),t=await t,r(),t),c=s(()=>({flow_runs:{id:{any_:[i.params.id]}}})),m={task_runs:a.query({endpoint:_.task_runs,body:c,options:{pollInterval:1e4}})},p=s(()=>{var e;return((e=n.response)==null?void 0:e.value)||{}}),f=s(()=>p.value.end_time),l=s(()=>{var e;return((e=m.task_runs.response)==null?void 0:e.value)||[]});return h(()=>{n.stopPolling(),a.queries.delete(n.id)}),(e,A)=>{const x=k("m-card");return u(),d(x,{class:"timeline d-flex flex-column",width:"auto",shadow:"sm"},{default:b(()=>[g("div",T,[o(l).length?(u(),d(C,{key:0,items:o(l),"max-end-time":o(f),"axis-position":"top","background-color":"blue-5"},null,8,["items","max-end-time"])):B("",!0)])]),_:1})}}});var V=R(q,[["__scopeId","data-v-568b1c60"]]);export{V as default};
