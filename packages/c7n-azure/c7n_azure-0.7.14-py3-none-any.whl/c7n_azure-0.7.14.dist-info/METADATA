Metadata-Version: 2.1
Name: c7n-azure
Version: 0.7.14
Summary: Cloud Custodian - Azure Support
Home-page: https://cloudcustodian.io
Author: Cloud Custodian Project
License: Apache-2.0
Platform: UNKNOWN
Classifier: License :: OSI Approved :: Apache Software License
Classifier: Topic :: System :: Systems Administration
Classifier: Topic :: System :: Distributed Computing
Requires-Python: >=3.7,<4.0
Description-Content-Type: text/markdown
Requires-Dist: PyJWT (<2.0.0,>=1.7.1)
Requires-Dist: adal (<2.0.0,>=1.2.6)
Requires-Dist: applicationinsights (<0.12.0,>=0.11.9)
Requires-Dist: apscheduler (<4.0.0,>=3.6.3)
Requires-Dist: argcomplete (<3.0.0,>=2.0.0)
Requires-Dist: attrs (<22.0.0,>=21.4.0)
Requires-Dist: azure-cosmos (<4.0.0,>=3.1.2)
Requires-Dist: azure-cosmosdb-table (<2.0.0,>=1.0.6)
Requires-Dist: azure-graphrbac (<0.62.0,>=0.61.1)
Requires-Dist: azure-identity (<2.0.0,>=1.5.0)
Requires-Dist: azure-keyvault-certificates (<5.0.0,>=4.2.1)
Requires-Dist: azure-keyvault-keys (<5.0.0,>=4.3.1)
Requires-Dist: azure-keyvault-secrets (<5.0.0,>=4.2.0)
Requires-Dist: azure-keyvault (<5.0.0,>=4.1.0)
Requires-Dist: azure-mgmt-advisor (<10.0.0,>=9.0.0)
Requires-Dist: azure-mgmt-apimanagement (<2.0.0,>=1.0.0)
Requires-Dist: azure-mgmt-applicationinsights (<2.0.0,>=1.0.0)
Requires-Dist: azure-mgmt-authorization (<2.0.0,>=1.0.0)
Requires-Dist: azure-mgmt-batch (<16.0.0,>=15.0.0)
Requires-Dist: azure-mgmt-cdn (<11.0.0,>=10.0.0)
Requires-Dist: azure-mgmt-cognitiveservices (<12.0.0,>=11.0.0)
Requires-Dist: azure-mgmt-compute (<20.0.0,>=19.0.0)
Requires-Dist: azure-mgmt-containerinstance (<8.0.0,>=7.0.0)
Requires-Dist: azure-mgmt-containerregistry (==8.0.0b1)
Requires-Dist: azure-mgmt-containerservice (<16.0.0,>=15.0.0)
Requires-Dist: azure-mgmt-cosmosdb (<7.0.0,>=6.1.0)
Requires-Dist: azure-mgmt-costmanagement (<2.0.0,>=1.0.0)
Requires-Dist: azure-mgmt-databricks (==1.0.0b1)
Requires-Dist: azure-mgmt-datafactory (<2.0.0,>=1.0.0)
Requires-Dist: azure-mgmt-datalake-store (<2.0.0,>=1.0.0)
Requires-Dist: azure-mgmt-dns (==8.0.0b1)
Requires-Dist: azure-mgmt-eventgrid (<9.0.0,>=8.0.0)
Requires-Dist: azure-mgmt-eventhub (<9.0.0,>=8.0.0)
Requires-Dist: azure-mgmt-frontdoor (<2.0.0,>=1.0.0)
Requires-Dist: azure-mgmt-hdinsight (<8.0.0,>=7.0.0)
Requires-Dist: azure-mgmt-iothub (<2.0.0,>=1.0.0)
Requires-Dist: azure-mgmt-keyvault (<9.0.0,>=8.0.0)
Requires-Dist: azure-mgmt-logic (<10.0.0,>=9.0.0)
Requires-Dist: azure-mgmt-managementgroups (==1.0.0b1)
Requires-Dist: azure-mgmt-monitor (<3.0.0,>=2.0.0)
Requires-Dist: azure-mgmt-msi (<2.0.0,>=1.0.0)
Requires-Dist: azure-mgmt-network (<18.0.0,>=17.1.0)
Requires-Dist: azure-mgmt-policyinsights (<2.0.0,>=1.0.0)
Requires-Dist: azure-mgmt-rdbms (<9.0.0,>=8.1.0)
Requires-Dist: azure-mgmt-redis (<13.0.0,>=12.0.0)
Requires-Dist: azure-mgmt-resource (<17.0.0,>=16.0.0)
Requires-Dist: azure-mgmt-resourcegraph (<8.0.0,>=7.0.0)
Requires-Dist: azure-mgmt-search (<9.0.0,>=8.0.0)
Requires-Dist: azure-mgmt-servicefabric (<2.0.0,>=1.0.0)
Requires-Dist: azure-mgmt-sql (<2.0.0,>=1.0.0)
Requires-Dist: azure-mgmt-storage (<18.0.0,>=17.0.0)
Requires-Dist: azure-mgmt-subscription (<2.0.0,>=1.0.0)
Requires-Dist: azure-mgmt-trafficmanager (<0.52.0,>=0.51.0)
Requires-Dist: azure-mgmt-web (<3.0.0,>=2.0.0)
Requires-Dist: azure-storage-blob (<13.0.0,>=12.8.0)
Requires-Dist: azure-storage-file-share (<13.0.0,>=12.4.1)
Requires-Dist: azure-storage-file (<3.0.0,>=2.1.0)
Requires-Dist: azure-storage-queue (<13.0.0,>=12.1.5)
Requires-Dist: boto3 (<2.0.0,>=1.21.5)
Requires-Dist: botocore (<2.0.0,>=1.24.5)
Requires-Dist: c7n (<0.10.0,>=0.9.15)
Requires-Dist: click (<9.0,>=8.0)
Requires-Dist: cryptography (>=3.4.6)
Requires-Dist: distlib (<0.4.0,>=0.3.0)
Requires-Dist: docutils (<0.18.0,>=0.17.1)
Requires-Dist: importlib-metadata (<5.0.0,>=4.11.1)
Requires-Dist: importlib-resources (<6.0.0,>=5.4.0)
Requires-Dist: jmespath (<0.11.0,>=0.10.0)
Requires-Dist: jsonschema (<5.0.0,>=4.4.0)
Requires-Dist: netaddr (<0.8.0,>=0.7.19)
Requires-Dist: pyrsistent (<0.19.0,>=0.18.1)
Requires-Dist: python-dateutil (<3.0.0,>=2.8.2)
Requires-Dist: pyyaml (<7.0,>=6.0)
Requires-Dist: requests (<3.0.0,>=2.22.0)
Requires-Dist: s3transfer (<0.6.0,>=0.5.1)
Requires-Dist: six (<2.0.0,>=1.16.0)
Requires-Dist: tabulate (<0.9.0,>=0.8.9)
Requires-Dist: typing-extensions (<5.0.0,>=4.1.1)
Requires-Dist: urllib3 (<2.0.0,>=1.26.8)
Requires-Dist: zipp (<4.0.0,>=3.7.0)
Requires-Dist: azure-functions (<2.0.0,>=1.0.8) ; python_version >= "3" and python_version < "4"


# Cloud Custodian - Azure Support

This a plugin to Cloud Custodian that adds Azure support.

## Install Cloud Custodian and Azure Plugin

The Azure provider must be installed as a separate package in addition to c7n. 

    $ git clone https://github.com/cloud-custodian/cloud-custodian.git
    $ virtualenv custodian
    $ source custodian/bin/activate
    (custodian) $ pip install -e cloud-custodian/.
    (custodian) $ pip install -e cloud-custodian/tools/c7n_azure/.


## Write your first policy

A policy specifies the following items:

- The type of resource to run the policy against
- Filters to narrow down the set of resources
- Actions to take on the filtered set of resources

For this tutorial we will add a tag to all virtual machines with the name "Hello" and the value "World".

Create a file named ``custodian.yml`` with this content:

    policies:
        - name: my-first-policy
          description: |
            Adds a tag to all virtual machines
          resource: azure.vm
          actions:
            - type: tag
              tag: Hello
              value: World

## Run your policy

First, choose one of the supported authentication mechanisms and either log in to Azure CLI or set
environment variables as documented in [Authentication](https://cloudcustodian.io/docs/azure/authentication.html#azure-authentication).

    custodian run --output-dir=. custodian.yml


If successful, you should see output similar to the following on the command line

    2016-12-20 08:35:06,133: custodian.policy:INFO Running policy my-first-policy resource: azure.vm
    2016-12-20 08:35:07,514: custodian.policy:INFO policy: my-first-policy resource:azure.vm has count:1 time:1.38
    2016-12-20 08:35:08,188: custodian.policy:INFO policy: my-first-policy action: tag: 1 execution_time: 0.67


You should also find a new ``my-first-policy`` directory with a log and other
files (subsequent runs will append to the log by default rather than
overwriting it). 

## Links
- [Getting Started](https://cloudcustodian.io/docs/azure/gettingstarted.html)
- [Example Scenarios](https://cloudcustodian.io/docs/azure/examples/index.html)
- [Example Policies](https://cloudcustodian.io/docs/azure/policy/index.html)






