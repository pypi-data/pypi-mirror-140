/*! For license information please see 19.721b40e46aaf10814476.js.LICENSE.txt */
"use strict";(self.webpackChunkvegafusion_jupyter=self.webpackChunkvegafusion_jupyter||[]).push([[19,823,64],{64:(t,n,e)=>{e.r(n),e.d(n,{DEFAULT_OPTIONS:()=>s,Handler:()=>h,calculatePosition:()=>a,createDefaultStyle:()=>f,default:()=>g,escapeHTML:()=>c,formatValue:()=>r,replacer:()=>i,stringify:()=>l,version:()=>p});var o=e(823);function r(t,n,e){if((0,o.kJ)(t))return`[${t.map((t=>n((0,o.HD)(t)?t:l(t,e)))).join(", ")}]`;if((0,o.Kn)(t)){let r="";const i=t,{title:u,image:s}=i,c=function(t,n){var e={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&n.indexOf(o)<0&&(e[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(t);r<o.length;r++)n.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(e[o[r]]=t[o[r]])}return e}(i,["title","image"]);u&&(r+=`<h2>${n(u)}</h2>`),s&&(r+=`<img src="${n(s)}">`);const f=Object.keys(c);if(f.length>0){r+="<table>";for(const t of f){let i=c[t];void 0!==i&&((0,o.Kn)(i)&&(i=l(i,e)),r+=`<tr><td class="key">${n(t)}:</td><td class="value">${n(i)}</td></tr>`)}r+="</table>"}return r||"{}"}return n(t)}function i(t){const n=[];return function(e,o){if("object"!=typeof o||null===o)return o;const r=n.indexOf(this)+1;return n.length=r,n.length>t?"[Object]":n.indexOf(o)>=0?"[Circular]":(n.push(o),o)}}function l(t,n){return JSON.stringify(t,i(n))}const u="vg-tooltip-element",s={offsetX:10,offsetY:10,id:u,styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:c,maxDepth:2,formatTooltip:r};function c(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;")}function f(t){if(!/^[A-Za-z]+[-:.\w]*$/.test(t))throw new Error("Invalid HTML ID");return"#vg-tooltip-element {\n  visibility: hidden;\n  padding: 8px;\n  position: fixed;\n  z-index: 1000;\n  font-family: sans-serif;\n  font-size: 11px;\n  border-radius: 3px;\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n  /* The default theme is the light theme. */\n  background-color: rgba(255, 255, 255, 0.95);\n  border: 1px solid #d9d9d9;\n  color: black; }\n  #vg-tooltip-element.visible {\n    visibility: visible; }\n  #vg-tooltip-element h2 {\n    margin-top: 0;\n    margin-bottom: 10px;\n    font-size: 13px; }\n  #vg-tooltip-element img {\n    max-width: 200px;\n    max-height: 200px; }\n  #vg-tooltip-element table {\n    border-spacing: 0; }\n    #vg-tooltip-element table tr {\n      border: none; }\n      #vg-tooltip-element table tr td {\n        overflow: hidden;\n        text-overflow: ellipsis;\n        padding-top: 2px;\n        padding-bottom: 2px; }\n        #vg-tooltip-element table tr td.key {\n          color: #808080;\n          max-width: 150px;\n          text-align: right;\n          padding-right: 4px; }\n        #vg-tooltip-element table tr td.value {\n          display: block;\n          max-width: 300px;\n          max-height: 7em;\n          text-align: left; }\n  #vg-tooltip-element.dark-theme {\n    background-color: rgba(32, 32, 32, 0.9);\n    border: 1px solid #f5f5f5;\n    color: white; }\n    #vg-tooltip-element.dark-theme td.key {\n      color: #bfbfbf; }\n".toString().replace(u,t)}function a(t,n,e,o){let r=t.clientX+e;r+n.width>window.innerWidth&&(r=+t.clientX-e-n.width);let i=t.clientY+o;return i+n.height>window.innerHeight&&(i=+t.clientY-o-n.height),{x:r,y:i}}class h{constructor(t){this.options=Object.assign(Object.assign({},s),t);const n=this.options.id;if(this.el=null,this.call=this.tooltipHandler.bind(this),!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){const t=document.createElement("style");t.setAttribute("id",this.options.styleId),t.innerHTML=f(n);const e=document.head;e.childNodes.length>0?e.insertBefore(t,e.childNodes[0]):e.appendChild(t)}}tooltipHandler(t,n,e,o){var r;if(this.el=document.getElementById(this.options.id),this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",this.options.id),this.el.classList.add("vg-tooltip"),document.body.appendChild(this.el)),(null!==(r=document.fullscreenElement)&&void 0!==r?r:document.body).appendChild(this.el),null==o||""===o)return void this.el.classList.remove("visible",`${this.options.theme}-theme`);this.el.innerHTML=this.options.formatTooltip(o,this.options.sanitize,this.options.maxDepth),this.el.classList.add("visible",`${this.options.theme}-theme`);const{x:i,y:l}=a(n,this.el.getBoundingClientRect(),this.options.offsetX,this.options.offsetY);this.el.setAttribute("style",`top: ${l}px; left: ${i}px`)}}const p="0.27.0";function g(t,n){const e=new h(n);return t.tooltip(e.call).run(),e}},823:(t,n,e)=>{function o(t,n,e){return t.fields=n||[],t.fname=e,t}function r(t){return null==t?null:t.fname}function i(t){return null==t?null:t.fields}function l(t){return 1===t.length?u(t[0]):s(t)}e.d(n,{cG:()=>O,jj:()=>x,kI:()=>j,Hq:()=>v,uU:()=>w,ZE:()=>o,Oj:()=>i,el:()=>r,IX:()=>F,j2:()=>tt,l$:()=>G,qu:()=>Q,a9:()=>rt,Ds:()=>it,vU:()=>c,l7:()=>lt,We:()=>ut,dI:()=>st,k:()=>b,Xr:()=>ht,EP:()=>a,yl:()=>pt,nr:()=>ft,id:()=>h,yR:()=>p,XW:()=>gt,u5:()=>dt,kJ:()=>M,jn:()=>mt,J_:()=>bt,mf:()=>V,TW:()=>yt,hj:()=>vt,Kn:()=>E,Kj:()=>xt,HD:()=>wt,Jy:()=>jt,t7:()=>Ot,kg:()=>k,$m:()=>kt,TS:()=>Mt,fE:()=>S,kX:()=>d,vk:()=>Dt,Dw:()=>N,mJ:()=>R,QA:()=>X,Zw:()=>B,fj:()=>H,mS:()=>Z,rx:()=>Et,yP:()=>St,_k:()=>f,m8:()=>Tt,sw:()=>$t,ZU:()=>It,He:()=>I,Rg:()=>At,BB:()=>zt,$G:()=>Pt,yb:()=>m,N3:()=>q,FP:()=>Lt,iL:()=>T,bM:()=>g,ay:()=>U,dH:()=>K,mK:()=>W,bV:()=>Y});const u=t=>function(n){return n[t]},s=t=>{const n=t.length;return function(e){for(let o=0;o<n;++o)e=e[t[o]];return e}};function c(t){throw Error(t)}function f(t){const n=[],e=t.length;let o,r,i,l=null,u=0,s="";function f(){n.push(s+t.substring(o,r)),s="",o=r+1}for(t+="",o=r=0;r<e;++r)if(i=t[r],"\\"===i)s+=t.substring(o,r),s+=t.substring(++r,++r),o=r;else if(i===l)f(),l=null,u=-1;else{if(l)continue;o===u&&'"'===i||o===u&&"'"===i?(o=r+1,l=i):"."!==i||u?"["===i?(r>o&&f(),u=o=r+1):"]"===i&&(u||c("Access path missing open bracket: "+t),u>0&&f(),u=0,o=r+1):r>o?f():o=r+1}return u&&c("Access path missing closing bracket: "+t),l&&c("Access path missing closing quote: "+t),r>o&&(r++,f()),n}function a(t,n,e){const r=f(t);return t=1===r.length?r[0]:t,o((e&&e.get||l)(r),[t],n||t)}const h=a("id"),p=o((t=>t),[],"identity"),g=o((()=>0),[],"zero"),d=o((()=>1),[],"one"),m=o((()=>!0),[],"true"),b=o((()=>!1),[],"false");function y(t,n,e){const o=[n].concat([].slice.call(e));console[t].apply(console,o)}const v=0,x=1,w=2,j=3,O=4;function k(t,n,e=y){let o=t||v;return{level(t){return arguments.length?(o=+t,this):o},error(){return o>=x&&e(n||"error","ERROR",arguments),this},warn(){return o>=w&&e(n||"warn","WARN",arguments),this},info(){return o>=j&&e(n||"log","INFO",arguments),this},debug(){return o>=O&&e(n||"log","DEBUG",arguments),this}}}var M=Array.isArray;function E(t){return t===Object(t)}const D=t=>"__proto__"!==t;function S(...t){return t.reduce(((t,n)=>{for(const e in n)if("signals"===e)t.signals=$(t.signals,n.signals);else{const o="legend"===e?{layout:1}:"style"===e||null;T(t,e,n[e],o)}return t}),{})}function T(t,n,e,o){if(!D(n))return;let r,i;if(E(e)&&!M(e))for(r in i=E(t[n])?t[n]:t[n]={},e)o&&(!0===o||o[r])?T(i,r,e[r]):D(r)&&(i[r]=e[r]);else t[n]=e}function $(t,n){if(null==t)return n;const e={},o=[];function r(t){e[t.name]||(e[t.name]=1,o.push(t))}return n.forEach(r),t.forEach(r),o}function H(t){return t[t.length-1]}function I(t){return null==t||""===t?null:+t}const z=t=>n=>t*Math.exp(n),A=t=>n=>Math.log(t*n),P=t=>n=>Math.sign(n)*Math.log1p(Math.abs(n/t)),L=t=>n=>Math.sign(n)*Math.expm1(Math.abs(n))*t,_=t=>n=>n<0?-Math.pow(-n,t):Math.pow(n,t);function C(t,n,e,o){const r=e(t[0]),i=e(H(t)),l=(i-r)*n;return[o(r-l),o(i-l)]}function N(t,n){return C(t,n,I,p)}function R(t,n){var e=Math.sign(t[0]);return C(t,n,A(e),z(e))}function X(t,n,e){return C(t,n,_(e),_(1/e))}function B(t,n,e){return C(t,n,P(e),L(e))}function J(t,n,e,o,r){const i=o(t[0]),l=o(H(t)),u=null!=n?o(n):(i+l)/2;return[r(u+(i-u)*e),r(u+(l-u)*e)]}function U(t,n,e){return J(t,n,e,I,p)}function K(t,n,e){const o=Math.sign(t[0]);return J(t,n,e,A(o),z(o))}function W(t,n,e,o){return J(t,n,e,_(o),_(1/o))}function Y(t,n,e,o){return J(t,n,e,P(o),L(o))}function Z(t){return 1+~~(new Date(t).getMonth()/3)}function q(t){return 1+~~(new Date(t).getUTCMonth()/3)}function F(t){return null!=t?M(t)?t:[t]:[]}function G(t,n,e){let o,r=t[0],i=t[1];return i<r&&(o=i,i=r,r=o),o=i-r,o>=e-n?[n,e]:[r=Math.min(Math.max(r,n),e-o),r+o]}function V(t){return"function"==typeof t}function Q(t,n,e){e=e||{},n=F(n)||[];const r=[],l=[],u={},s=e.comparator||nt;return F(t).forEach(((t,o)=>{null!=t&&(r.push("descending"===n[o]?-1:1),l.push(t=V(t)?t:a(t,null,e)),(i(t)||[]).forEach((t=>u[t]=1)))})),0===l.length?null:o(s(l,r),Object.keys(u))}const tt=(t,n)=>(t<n||null==t)&&null!=n?-1:(t>n||null==n)&&null!=t?1:(n=n instanceof Date?+n:n,(t=t instanceof Date?+t:t)!==t&&n==n?-1:n!=n&&t==t?1:0),nt=(t,n)=>1===t.length?et(t[0],n[0]):ot(t,n,t.length),et=(t,n)=>function(e,o){return tt(t(e),t(o))*n},ot=(t,n,e)=>(n.push(0),function(o,r){let i,l=0,u=-1;for(;0===l&&++u<e;)i=t[u],l=tt(i(o),i(r));return l*n[u]});function rt(t){return V(t)?t:()=>t}function it(t,n){let e;return o=>{e&&clearTimeout(e),e=setTimeout((()=>(n(o),e=null)),t)}}function lt(t){for(let n,e,o=1,r=arguments.length;o<r;++o)for(e in n=arguments[o],n)t[e]=n[e];return t}function ut(t,n){let e,o,r,i,l=0;if(t&&(e=t.length))if(null==n){for(o=t[l];l<e&&(null==o||o!=o);o=t[++l]);for(r=i=o;l<e;++l)o=t[l],null!=o&&(o<r&&(r=o),o>i&&(i=o))}else{for(o=n(t[l]);l<e&&(null==o||o!=o);o=n(t[++l]));for(r=i=o;l<e;++l)o=n(t[l]),null!=o&&(o<r&&(r=o),o>i&&(i=o))}return[r,i]}function st(t,n){const e=t.length;let o,r,i,l,u,s=-1;if(null==n){for(;++s<e;)if(r=t[s],null!=r&&r>=r){o=i=r;break}if(s===e)return[-1,-1];for(l=u=s;++s<e;)r=t[s],null!=r&&(o>r&&(o=r,l=s),i<r&&(i=r,u=s))}else{for(;++s<e;)if(r=n(t[s],s,t),null!=r&&r>=r){o=i=r;break}if(s===e)return[-1,-1];for(l=u=s;++s<e;)r=n(t[s],s,t),null!=r&&(o>r&&(o=r,l=s),i<r&&(i=r,u=s))}return[l,u]}const ct=Object.prototype.hasOwnProperty;function ft(t,n){return ct.call(t,n)}const at={};function ht(t){let n,e={};function o(t){return ft(e,t)&&e[t]!==at}const r={size:0,empty:0,object:e,has:o,get:t=>o(t)?e[t]:void 0,set(t,n){return o(t)||(++r.size,e[t]===at&&--r.empty),e[t]=n,this},delete(t){return o(t)&&(--r.size,++r.empty,e[t]=at),this},clear(){r.size=r.empty=0,r.object=e={}},test(t){return arguments.length?(n=t,r):n},clean(){const t={};let o=0;for(const r in e){const i=e[r];i===at||n&&n(i)||(t[r]=i,++o)}r.size=o,r.empty=0,r.object=e=t}};return t&&Object.keys(t).forEach((n=>{r.set(n,t[n])})),r}function pt(t,n,e,o,r,i){if(!e&&0!==e)return i;const l=+e;let u,s=t[0],c=H(t);c<s&&(u=s,s=c,c=u),u=Math.abs(n-s);const f=Math.abs(c-n);return u<f&&u<=l?o:f<=l?r:i}function gt(t,n,e){const o=t.prototype=Object.create(n.prototype);return Object.defineProperty(o,"constructor",{value:t,writable:!0,enumerable:!0,configurable:!0}),lt(o,e)}function dt(t,n,e,o){let r,i=n[0],l=n[n.length-1];return i>l&&(r=i,i=l,l=r),o=void 0===o||o,((e=void 0===e||e)?i<=t:i<t)&&(o?t<=l:t<l)}function mt(t){return"boolean"==typeof t}function bt(t){return"[object Date]"===Object.prototype.toString.call(t)}function yt(t){return t&&V(t[Symbol.iterator])}function vt(t){return"number"==typeof t}function xt(t){return"[object RegExp]"===Object.prototype.toString.call(t)}function wt(t){return"string"==typeof t}function jt(t,n,e){t&&(t=n?F(t).map((t=>t.replace(/\\(.)/g,"$1"))):F(t));const r=t&&t.length,i=e&&e.get||l,u=t=>i(n?[t]:f(t));let s;if(r)if(1===r){const n=u(t[0]);s=function(t){return""+n(t)}}else{const n=t.map(u);s=function(t){let e=""+n[0](t),o=0;for(;++o<r;)e+="|"+n[o](t);return e}}else s=function(){return""};return o(s,t,"key")}function Ot(t,n){const e=t[0],o=H(t),r=+n;return r?1===r?o:e+r*(o-e):e}function kt(t){let n,e,o;t=+t||1e4;const r=()=>{n={},e={},o=0},i=(r,i)=>(++o>t&&(e=n,n={},o=1),n[r]=i);return r(),{clear:r,has:t=>ft(n,t)||ft(e,t),get:t=>ft(n,t)?n[t]:ft(e,t)?i(t,e[t]):void 0,set:(t,e)=>ft(n,t)?n[t]=e:i(t,e)}}function Mt(t,n,e,o){const r=n.length,i=e.length;if(!i)return n;if(!r)return e;const l=o||new n.constructor(r+i);let u=0,s=0,c=0;for(;u<r&&s<i;++c)l[c]=t(n[u],e[s])>0?e[s++]:n[u++];for(;u<r;++u,++c)l[c]=n[u];for(;s<i;++s,++c)l[c]=e[s];return l}function Et(t,n){let e="";for(;--n>=0;)e+=t;return e}function Dt(t,n,e,o){const r=e||" ",i=t+"",l=n-i.length;return l<=0?i:"left"===o?Et(r,l)+i:"center"===o?Et(r,~~(l/2))+i+Et(r,Math.ceil(l/2)):i+Et(r,l)}function St(t){return t&&H(t)-t[0]||0}function Tt(t){return M(t)?"["+t.map(Tt)+"]":E(t)||wt(t)?JSON.stringify(t).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):t}function $t(t){return null==t||""===t?null:!(!t||"false"===t||"0"===t||!t)}const Ht=t=>vt(t)||bt(t)?t:Date.parse(t);function It(t,n){return n=n||Ht,null==t||""===t?null:n(t)}function zt(t){return null==t||""===t?null:t+""}function At(t){const n={},e=t.length;for(let o=0;o<e;++o)n[t[o]]=!0;return n}function Pt(t,n,e,o){const r=null!=o?o:"…",i=t+"",l=i.length,u=Math.max(0,n-r.length);return l<=n?i:"left"===e?r+i.slice(l-u):"center"===e?i.slice(0,Math.ceil(u/2))+r+i.slice(l-~~(u/2)):i.slice(0,u)+r}function Lt(t,n,e){if(t)if(n){const o=t.length;for(let r=0;r<o;++r){const o=n(t[r]);o&&e(o,r,t)}}else t.forEach(e)}}}]);