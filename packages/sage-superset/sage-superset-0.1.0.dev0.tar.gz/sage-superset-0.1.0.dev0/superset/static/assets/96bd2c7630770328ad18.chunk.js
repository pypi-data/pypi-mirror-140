"use strict";(globalThis.webpackChunksuperset=globalThis.webpackChunksuperset||[]).push([[1948],{281948:(e,t,a)=>{a.r(t),a.d(t,{default:()=>v});var o,r,n,s=a(205872),l=a.n(s),i=a(355786),u=a(455867),d=a(667294),c=a(104715),f=a(174448),m=a(211965);function v(e){const{data:t,formData:a,height:o,width:r,setDataMask:n,setFocusedFilter:s,unsetFocusedFilter:v,filterState:p}=e,{defaultValue:h,inputRef:g}=a,[b,G]=(0,d.useState)(null!=h?h:[]),y=(0,d.useMemo)((()=>t.reduce(((e,{duration:t,name:a})=>({...e,[t]:a})),{})),[JSON.stringify(t)]),L=e=>{const t=(0,i.Z)(e),[a]=t,o=a?y[a]:void 0,r={};a&&(r.time_grain_sqla=a),G(t),n({extraFormData:r,filterState:{label:o,value:t.length?t:null}})};(0,d.useEffect)((()=>{L(null!=h?h:[])}),[JSON.stringify(h)]),(0,d.useEffect)((()=>{var e;L(null!=(e=p.value)?e:[])}),[JSON.stringify(p.value)]);const H=0===(t||[]).length?(0,u.t)("No data"):(0,u.tn)("%s option","%s options",t.length,t.length),M={};p.validateMessage&&(M.extra=(0,m.tZ)(f.Am,{status:p.validateStatus},p.validateMessage));const S=(t||[]).map((e=>{const{name:t,duration:a}=e;return{label:t,value:a}}));return(0,m.tZ)(f.un,{height:o,width:r},(0,m.tZ)(f.jp,l()({validateStatus:p.validateStatus},M),(0,m.tZ)(c.P,{allowClear:!0,value:b,placeholder:H,onChange:L,onMouseEnter:s,onMouseLeave:v,ref:g,options:S})))}e=a.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(v,"useState{[value, setValue](defaultValue ?? [])}\nuseMemo{durationMap}\nuseEffect{}\nuseEffect{}"),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&r.register(v,"PluginFilterTimegrain","/Users/chenming/PycharmProjects/venv/superset/superset-frontend/src/filters/components/TimeGrain/TimeGrainFilterPlugin.tsx"),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&n(e)},174448:(e,t,a)=>{a.d(t,{un:()=>s,jp:()=>l,Am:()=>i});var o,r=a(751995),n=a(804591);e=a.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const s=r.iK.div`
  min-height: ${({height:e})=>e}px;
  width: ${({width:e})=>e}px;
`,l=(0,r.iK)(n.Z)`
  &.ant-row.ant-form-item {
    margin: 0;
  }
`,i=r.iK.div`
  color: ${({theme:e,status:t="error"})=>{var a;return null==(a=e.colors[t])?void 0:a.base}};
`;var u,d;(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(u.register(s,"FilterPluginStyle","/Users/chenming/PycharmProjects/venv/superset/superset-frontend/src/filters/components/common.ts"),u.register(l,"StyledFormItem","/Users/chenming/PycharmProjects/venv/superset/superset-frontend/src/filters/components/common.ts"),u.register(i,"StatusMessage","/Users/chenming/PycharmProjects/venv/superset/superset-frontend/src/filters/components/common.ts")),(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&d(e)}}]);