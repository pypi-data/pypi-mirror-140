"use strict";(globalThis.webpackChunksuperset=globalThis.webpackChunksuperset||[]).push([[1090],{662276:(e,t,r)=>{r.d(t,{S:()=>s,M:()=>i});var o,n=r(711448),a=r(751995);e=r.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const l=n.Z.RangePicker,s=(0,a.iK)(l)`
  border-radius: ${({theme:e})=>e.gridUnit}px;
`,i=n.Z;var c,d;(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(c.register(l,"AntdRangePicker","/Users/chenming/PycharmProjects/venv/superset/superset-frontend/src/components/DatePicker/index.tsx"),c.register(s,"RangePicker","/Users/chenming/PycharmProjects/venv/superset/superset-frontend/src/components/DatePicker/index.tsx"),c.register(i,"DatePicker","/Users/chenming/PycharmProjects/venv/superset/superset-frontend/src/components/DatePicker/index.tsx")),(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&d(e)},976697:(e,t,r)=>{r.d(t,{Z:()=>l});var o,n=r(219181);e=r.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const a=n.Z,l=a;var s,i;(s="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&s.register(a,"default","/Users/chenming/PycharmProjects/venv/superset/superset-frontend/src/components/Popover/index.tsx"),(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&i(e)},482342:(e,t,r)=>{r.d(t,{Z:()=>f}),r(667294);var o,n=r(751995),a=r(211965),l=r(455867),s=r(409882),i=r(358593),c=r(558347),d=r(87693);e=r.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);var u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},p={name:"8wgs83",styles:"margin-bottom:0;position:relative"};const m=({name:e,label:t,description:r,validationErrors:o=[],renderTrigger:u=!1,rightNode:m,leftNode:v,onClick:f,hovered:h=!1,tooltipOnClick:g=(()=>{}),warning:b,danger:y})=>{const{gridUnit:Z,colors:L}=(0,n.Fg)();if(!t)return null;const C=(null==o?void 0:o.length)>0?"text-danger":"";return(0,a.tZ)("div",{className:"ControlHeader","data-test":`${e}-header`},(0,a.tZ)("div",{className:"pull-left"},(0,a.tZ)(c.lX,{css:p},v&&(0,a.tZ)("span",null,v),(0,a.tZ)("span",{role:"button",tabIndex:0,onClick:f,className:C,style:{cursor:f?"pointer":""}},t)," ",b&&(0,a.tZ)("span",null,(0,a.tZ)(i.u,{id:"error-tooltip",placement:"top",title:b},(0,a.tZ)(d.Z.AlertSolid,{iconColor:L.alert.base,iconSize:"s"}))," "),y&&(0,a.tZ)("span",null,(0,a.tZ)(i.u,{id:"error-tooltip",placement:"top",title:y},(0,a.tZ)(d.Z.ErrorSolid,{iconColor:L.error.base,iconSize:"s"}))," "),(null==o?void 0:o.length)>0&&(0,a.tZ)("span",null,(0,a.tZ)(i.u,{id:"error-tooltip",placement:"top",title:null==o?void 0:o.join(" ")},(0,a.tZ)(d.Z.ErrorSolid,{iconColor:L.error.base,iconSize:"s"}))," "),h?(0,a.tZ)("span",{css:()=>a.iv`
          position: absolute;
          top: 50%;
          right: 0;
          padding-left: ${Z}px;
          transform: translate(100%, -50%);
          white-space: nowrap;
        `},r&&(0,a.tZ)("span",null,(0,a.tZ)(s.V,{label:(0,l.t)("description"),tooltip:r,placement:"top",onClick:g})," "),u&&(0,a.tZ)("span",null,(0,a.tZ)(s.V,{label:(0,l.t)("bolt"),tooltip:(0,l.t)("Changing this control takes effect instantly"),placement:"top",icon:"bolt"})," ")):null)),m&&(0,a.tZ)("div",{className:"pull-right"},m),(0,a.tZ)("div",{className:"clearfix"}))};u(m,"useTheme{{ gridUnit, colors }}",(()=>[n.Fg]));const v=m,f=v;var h,g;(h="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(h.register(m,"ControlHeader","/Users/chenming/PycharmProjects/venv/superset/superset-frontend/src/explore/components/ControlHeader.tsx"),h.register(v,"default","/Users/chenming/PycharmProjects/venv/superset/superset-frontend/src/explore/components/ControlHeader.tsx")),(g="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&g(e)},465509:(e,t,r)=>{r.d(t,{ZP:()=>k});var o,n=r(205872),a=r.n(n),l=r(667294),s=r(115926),i=r.n(s),c=r(431069),d=r(751995),u=r(455867),p=r(216636),m=r(998286),v=r(835932),f=r(482342),h=r(737921),g=r(976697),b=r(582191),y=r(87693),Z=r(281315),L=r(358593),C=r(269856),G=r(112515),P=r(427600),D=r(653350),x=r(134261),H=r(826564),T=r(51217),F=r(849225),E=("undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature,r(211965));e=r.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);var M="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};const S=e=>p.MI.has(e)?"Common":p.gn.has(e)?"Calendar":"No filter"===e?"No filter":(0,p.c_)(e).matchedFlag?"Custom":"Advanced",U=async(e,t)=>{const r=`/api/v1/time_range/?q=${i().encode(e)}`;try{var o,n,a,l;const e=await c.Z.get({endpoint:r}),s=(0,p.mv)((null==e||null==(o=e.json)||null==(n=o.result)?void 0:n.since)||"",(null==e||null==(a=e.json)||null==(l=a.result)?void 0:l.until)||"");return{value:(0,p.ns)(s,t)}}catch(e){const t=await(0,m.O)(e);return{error:t.message||t.error}}},N=(0,d.iK)(g.Z)``,j=(0,d.iK)(Z.Z)`
  width: 272px;
`,A=d.iK.div`
  .ant-row {
    margin-top: 8px;
  }

  .ant-input-number {
    width: 100%;
  }

  .ant-picker {
    padding: 4px 17px 4px;
    border-radius: 4px;
    width: 100%;
  }

  .ant-divider-horizontal {
    margin: 16px 0;
  }

  .control-label {
    font-size: 11px;
    font-weight: 500;
    color: #b2b2b2;
    line-height: 16px;
    text-transform: uppercase;
    margin: 8px 0;
  }

  .vertical-radio {
    display: block;
    height: 40px;
    line-height: 40px;
  }

  .section-title {
    font-style: normal;
    font-weight: 500;
    font-size: 15px;
    line-height: 24px;
    margin-bottom: 8px;
  }

  .control-anchor-to {
    margin-top: 16px;
  }

  .control-anchor-to-datetime {
    width: 217px;
  }

  .footer {
    text-align: right;
  }
`,w=d.iK.span`
  span {
    margin-right: ${({theme:e})=>2*e.gridUnit}px;
    vertical-align: middle;
  }
  .text {
    vertical-align: middle;
  }
  .error {
    color: ${({theme:e})=>e.colors.error.base};
  }
`,R="date-filter-control",I=(0,D.Q)(R);function k(e){const{value:t=C.X5,endpoints:r,onChange:o,type:n}=e,[s,i]=(0,l.useState)(t),[c,m]=(0,l.useState)(!1),g=(0,l.useMemo)((()=>S(t)),[t]),[D,M]=(0,l.useState)(g),[R,k]=(0,l.useState)(t),[_,$]=(0,l.useState)(t),[V,O]=(0,l.useState)(!1),[Y,K]=(0,l.useState)(t),[X,z]=(0,l.useState)(t);function W(){$(t),M(g),m(!1)}(0,l.useEffect)((()=>{U(t,r).then((({value:e,error:r})=>{r?(K(r||""),O(!1),z(t||"")):("Common"===g||"Calendar"===g||"No filter"===g?(i(t),z("error"===n?(0,u.t)("Default value is required"):e||"")):(i(e||""),z(t||"")),O(!0)),k(t)}))}),[t]),(0,G.bX)((()=>{R!==_&&U(_,r).then((({value:e,error:t})=>{t?(K(t||""),O(!1)):(K(e||""),O(!0)),k(_)}))}),P.M$,[_]);const q=(0,d.Fg)(),J=(0,E.tZ)(A,null,(0,E.tZ)("div",{className:"control-label"},(0,u.t)("RANGE TYPE")),(0,E.tZ)(j,{ariaLabel:(0,u.t)("RANGE TYPE"),options:p.un,value:D,onChange:function(e){"No filter"===e&&$("No filter"),M(e)},sortComparator:(0,Z.m)("order")}),"No filter"!==D&&(0,E.tZ)(b.iz,null),"Common"===D&&(0,E.tZ)(x.G,{value:_,onChange:$}),"Calendar"===D&&(0,E.tZ)(H.M,{value:_,onChange:$}),"Advanced"===D&&(0,E.tZ)(F.v,{value:_,onChange:$}),"Custom"===D&&(0,E.tZ)(T.e,{value:_,onChange:$}),"No filter"===D&&(0,E.tZ)("div",{"data-test":"no-filter"}),(0,E.tZ)(b.iz,null),(0,E.tZ)("div",null,(0,E.tZ)("div",{className:"section-title"},(0,u.t)("Actual time range")),V&&(0,E.tZ)("div",null,Y),!V&&(0,E.tZ)(w,{className:"warning"},(0,E.tZ)(y.Z.ErrorSolidSmall,{iconColor:q.colors.error.base}),(0,E.tZ)("span",{className:"text error"},Y))),(0,E.tZ)(b.iz,null),(0,E.tZ)("div",{className:"footer"},(0,E.tZ)(v.Z,{buttonStyle:"secondary",cta:!0,key:"cancel",onClick:W,"data-test":"cancel-button"},(0,u.t)("CANCEL")),(0,E.tZ)(v.Z,a()({buttonStyle:"primary",cta:!0,disabled:!V,key:"apply",onClick:function(){o(_),m(!1)}},I("apply-button")),(0,u.t)("APPLY")))),Q=(0,E.tZ)(w,null,(0,E.tZ)(y.Z.EditAlt,{iconColor:q.colors.grayscale.base}),(0,E.tZ)("span",{className:"text"},(0,u.t)("Edit time range")));return(0,E.tZ)(l.Fragment,null,(0,E.tZ)(f.Z,e),(0,E.tZ)(N,{placement:"right",trigger:"click",content:J,title:Q,defaultVisible:c,visible:c,onVisibleChange:()=>{c?W():m(!0)},overlayStyle:{width:"600px"}},(0,E.tZ)(L.u,{placement:"top",title:X},(0,E.tZ)(h.Z,{className:"pointer","data-test":"time-range-trigger",onClick:function(){$(t),M(g),m(!0)}},s))))}var _,$;M(k,"useState{[actualTimeRange, setActualTimeRange](value)}\nuseState{[show, setShow](false)}\nuseMemo{guessedFrame}\nuseState{[frame, setFrame](guessedFrame)}\nuseState{[lastFetchedTimeRange, setLastFetchedTimeRange](value)}\nuseState{[timeRangeValue, setTimeRangeValue](value)}\nuseState{[validTimeRange, setValidTimeRange](false)}\nuseState{[evalResponse, setEvalResponse](value)}\nuseState{[tooltipTitle, setTooltipTitle](value)}\nuseEffect{}\nuseDebouncedEffect{}\nuseTheme{theme}",(()=>[G.bX,d.Fg])),(_="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(_.register(S,"guessFrame","/Users/chenming/PycharmProjects/venv/superset/superset-frontend/src/explore/components/controls/DateFilterControl/DateFilterLabel.tsx"),_.register(U,"fetchTimeRange","/Users/chenming/PycharmProjects/venv/superset/superset-frontend/src/explore/components/controls/DateFilterControl/DateFilterLabel.tsx"),_.register(N,"StyledPopover","/Users/chenming/PycharmProjects/venv/superset/superset-frontend/src/explore/components/controls/DateFilterControl/DateFilterLabel.tsx"),_.register(j,"StyledRangeType","/Users/chenming/PycharmProjects/venv/superset/superset-frontend/src/explore/components/controls/DateFilterControl/DateFilterLabel.tsx"),_.register(A,"ContentStyleWrapper","/Users/chenming/PycharmProjects/venv/superset/superset-frontend/src/explore/components/controls/DateFilterControl/DateFilterLabel.tsx"),_.register(w,"IconWrapper","/Users/chenming/PycharmProjects/venv/superset/superset-frontend/src/explore/components/controls/DateFilterControl/DateFilterLabel.tsx"),_.register(R,"DATE_FILTER_CONTROL_TEST_ID","/Users/chenming/PycharmProjects/venv/superset/superset-frontend/src/explore/components/controls/DateFilterControl/DateFilterLabel.tsx"),_.register(I,"getDateFilterControlTestId","/Users/chenming/PycharmProjects/venv/superset/superset-frontend/src/explore/components/controls/DateFilterControl/DateFilterLabel.tsx"),_.register(k,"DateFilterLabel","/Users/chenming/PycharmProjects/venv/superset/superset-frontend/src/explore/components/controls/DateFilterControl/DateFilterLabel.tsx")),($="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&$(e)},849225:(e,t,r)=>{r.d(t,{v:()=>m});var o,n,a,l=r(667294),s=r(455867),i=r(216636),c=r(582191),d=r(409882),u=r(393879),p=r(211965);function m(e){const t=n(e.value||""),[r,o]=t.split(i.UD);function n(e){return e.includes(i.UD)?e:e.startsWith("Last")?[e,""].join(i.UD):e.startsWith("Next")?["",e].join(i.UD):i.UD}function a(t,n){"since"===t?e.onChange(`${n}${i.UD}${o}`):e.onChange(`${r}${i.UD}${n}`)}return t!==e.value&&e.onChange(n(e.value||"")),(0,p.tZ)(l.Fragment,null,(0,p.tZ)("div",{className:"section-title"},(0,s.t)("Configure Advanced Time Range "),(0,p.tZ)(u.Z,{placement:"rightBottom"},(0,p.tZ)("i",{className:"fa fa-info-circle text-muted"}))),(0,p.tZ)("div",{className:"control-label"},(0,s.t)("START (INCLUSIVE)")," ",(0,p.tZ)(d.V,{tooltip:(0,s.t)("Start date included in time range"),placement:"right"})),(0,p.tZ)(c.II,{key:"since",value:r,onChange:e=>a("since",e.target.value)}),(0,p.tZ)("div",{className:"control-label"},(0,s.t)("END (EXCLUSIVE)")," ",(0,p.tZ)(d.V,{tooltip:(0,s.t)("End date excluded from time range"),placement:"right"})),(0,p.tZ)(c.II,{key:"until",value:o,onChange:e=>a("until",e.target.value)}))}e=r.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature,(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&n.register(m,"AdvancedFrame","/Users/chenming/PycharmProjects/venv/superset/superset-frontend/src/explore/components/controls/DateFilterControl/components/AdvancedFrame.tsx"),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&a(e)},826564:(e,t,r)=>{r.d(t,{M:()=>p});var o,n,a,l=r(667294),s=r(455867),i=r(287183),c=r(216636),d=r(831209),u=r(211965);function p({onChange:e,value:t}){return(0,l.useEffect)((()=>{c.LY.has(t)||e(d.gT)}),[e,t]),c.LY.has(t)?(0,u.tZ)(l.Fragment,null,(0,u.tZ)("div",{className:"section-title"},(0,s.t)("Configure Time Range: Previous...")),(0,u.tZ)(i.Y.Group,{value:t,onChange:t=>e(t.target.value)},c._S.map((({value:e,label:t})=>(0,u.tZ)(i.Y,{key:e,value:e,className:"vertical-radio"},t))))):null}e=r.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(p,"useEffect{}"),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&n.register(p,"CalendarFrame","/Users/chenming/PycharmProjects/venv/superset/superset-frontend/src/explore/components/controls/DateFilterControl/components/CalendarFrame.tsx"),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&a(e)},134261:(e,t,r)=>{r.d(t,{G:()=>u});var o,n,a,l=r(667294),s=r(455867),i=r(287183),c=r(216636),d=r(211965);function u(e){let t="Last week";return c.bk.has(e.value)?t=e.value:e.onChange(t),(0,d.tZ)(l.Fragment,null,(0,d.tZ)("div",{className:"section-title"},(0,s.t)("Configure Time Range: Last...")),(0,d.tZ)(i.Y.Group,{value:t,onChange:t=>e.onChange(t.target.value)},c.Sm.map((({value:e,label:t})=>(0,d.tZ)(i.Y,{key:e,value:e,className:"vertical-radio"},t)))))}e=r.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature,(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&n.register(u,"CommonFrame","/Users/chenming/PycharmProjects/venv/superset/superset-frontend/src/explore/components/controls/DateFilterControl/components/CommonFrame.tsx"),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&a(e)},51217:(e,t,r)=>{r.d(t,{e:()=>f});var o,n=r(593754),a=r.n(n),l=(r(667294),r(455867)),s=r(582191),i=r(662276),c=r(287183),d=r(281315),u=r(409882),p=r(216636),m=r(211965);e=r.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const v=(0,d.m)("order");function f(e){const{customRange:t,matchedFlag:r}=(0,p.c_)(e.value);r||e.onChange((0,p.jK)(t));const{sinceDatetime:o,sinceMode:n,sinceGrain:f,sinceGrainValue:h,untilDatetime:g,untilMode:b,untilGrain:y,untilGrainValue:Z,anchorValue:L,anchorMode:C}={...t};function G(r,o){e.onChange((0,p.jK)({...t,[r]:o}))}function P(r,o){a()(o)&&o>0&&e.onChange((0,p.jK)({...t,[r]:o}))}return(0,m.tZ)("div",{"data-test":"custom-frame"},(0,m.tZ)("div",{className:"section-title"},(0,l.t)("Configure custom time range")),(0,m.tZ)(s.X2,{gutter:24},(0,m.tZ)(s.JX,{span:12},(0,m.tZ)("div",{className:"control-label"},(0,l.t)("START (INCLUSIVE)")," ",(0,m.tZ)(u.V,{tooltip:(0,l.t)("Start date included in time range"),placement:"right"})),(0,m.tZ)(d.Z,{ariaLabel:(0,l.t)("START (INCLUSIVE)"),options:p._d,value:n,onChange:e=>G("sinceMode",e),sortComparator:v}),"specific"===n&&(0,m.tZ)(s.X2,null,(0,m.tZ)(i.M,{showTime:!0,defaultValue:(0,p.DL)(o),onChange:e=>G("sinceDatetime",e.format(p.KZ)),allowClear:!1})),"relative"===n&&(0,m.tZ)(s.X2,{gutter:8},(0,m.tZ)(s.JX,{span:11},(0,m.tZ)(s.Rn,{placeholder:(0,l.t)("Relative quantity"),value:Math.abs(h),min:1,defaultValue:1,onChange:e=>P("sinceGrainValue",e||1),onStep:e=>P("sinceGrainValue",e||1)})),(0,m.tZ)(s.JX,{span:13},(0,m.tZ)(d.Z,{ariaLabel:(0,l.t)("Relative period"),options:p.kj,value:f,onChange:e=>G("sinceGrain",e),sortComparator:v})))),(0,m.tZ)(s.JX,{span:12},(0,m.tZ)("div",{className:"control-label"},(0,l.t)("END (EXCLUSIVE)")," ",(0,m.tZ)(u.V,{tooltip:(0,l.t)("End date excluded from time range"),placement:"right"})),(0,m.tZ)(d.Z,{ariaLabel:(0,l.t)("END (EXCLUSIVE)"),options:p.hj,value:b,onChange:e=>G("untilMode",e),sortComparator:v}),"specific"===b&&(0,m.tZ)(s.X2,null,(0,m.tZ)(i.M,{showTime:!0,defaultValue:(0,p.DL)(g),onChange:e=>G("untilDatetime",e.format(p.KZ)),allowClear:!1})),"relative"===b&&(0,m.tZ)(s.X2,{gutter:8},(0,m.tZ)(s.JX,{span:11},(0,m.tZ)(s.Rn,{placeholder:(0,l.t)("Relative quantity"),value:Z,min:1,defaultValue:1,onChange:e=>P("untilGrainValue",e||1),onStep:e=>P("untilGrainValue",e||1)})),(0,m.tZ)(s.JX,{span:13},(0,m.tZ)(d.Z,{ariaLabel:(0,l.t)("Relative period"),options:p.Ae,value:y,onChange:e=>G("untilGrain",e),sortComparator:v}))))),"relative"===n&&"relative"===b&&(0,m.tZ)("div",{className:"control-anchor-to"},(0,m.tZ)("div",{className:"control-label"},(0,l.t)("Anchor to")),(0,m.tZ)(s.X2,{align:"middle"},(0,m.tZ)(s.JX,null,(0,m.tZ)(c.Y.Group,{onChange:function(r){const o=r.target.value;"now"===o?e.onChange((0,p.jK)({...t,anchorValue:"now",anchorMode:o})):e.onChange((0,p.jK)({...t,anchorValue:p.V7,anchorMode:o}))},defaultValue:"now",value:C},(0,m.tZ)(c.Y,{key:"now",value:"now"},(0,l.t)("NOW")),(0,m.tZ)(c.Y,{key:"specific",value:"specific"},(0,l.t)("Date/Time")))),"now"!==C&&(0,m.tZ)(s.JX,null,(0,m.tZ)(i.M,{showTime:!0,defaultValue:(0,p.DL)(L),onChange:e=>G("anchorValue",e.format(p.KZ)),allowClear:!1,className:"control-anchor-to-datetime"})))))}var h,g;(h="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(h.register(v,"sortComparator","/Users/chenming/PycharmProjects/venv/superset/superset-frontend/src/explore/components/controls/DateFilterControl/components/CustomFrame.tsx"),h.register(f,"CustomFrame","/Users/chenming/PycharmProjects/venv/superset/superset-frontend/src/explore/components/controls/DateFilterControl/components/CustomFrame.tsx")),(g="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&g(e)},393879:(e,t,r)=>{r.d(t,{Z:()=>v});var o,n=r(205872),a=r.n(n),l=r(667294),s=r(455867),i=r(751995),c=r(358593),d=r(211965);e=r.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);var u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};const p=(0,d.tZ)(l.Fragment,null,(0,d.tZ)("div",null,(0,d.tZ)("h3",null,"DATETIME"),(0,d.tZ)("p",null,(0,s.t)("Return to specific datetime.")),(0,d.tZ)("h4",null,(0,s.t)("Syntax")),(0,d.tZ)("pre",null,(0,d.tZ)("code",null,"datetime([string])")),(0,d.tZ)("h4",null,(0,s.t)("Example")),(0,d.tZ)("pre",null,(0,d.tZ)("code",null,'datetime("2020-03-01 12:00:00")\ndatetime("now")\ndatetime("last year")'))),(0,d.tZ)("div",null,(0,d.tZ)("h3",null,"DATEADD"),(0,d.tZ)("p",null,(0,s.t)("Moves the given set of dates by a specified interval.")),(0,d.tZ)("h4",null,(0,s.t)("Syntax")),(0,d.tZ)("pre",null,(0,d.tZ)("code",null,"dateadd([datetime], [integer], [dateunit])\ndateunit = (year | quarter | month | week | day | hour | minute | second)")),(0,d.tZ)("h4",null,(0,s.t)("Example")),(0,d.tZ)("pre",null,(0,d.tZ)("code",null,'dateadd(datetime("today"), -13, day)\ndateadd(datetime("2020-03-01"), 2, day)'))),(0,d.tZ)("div",null,(0,d.tZ)("h3",null,"DATETRUNC"),(0,d.tZ)("p",null,(0,s.t)("Truncates the specified date to the accuracy specified by the date unit.")),(0,d.tZ)("h4",null,(0,s.t)("Syntax")),(0,d.tZ)("pre",null,(0,d.tZ)("code",null,"datetrunc([datetime], [dateunit])\ndateunit = (year | quarter | month | week)")),(0,d.tZ)("h4",null,(0,s.t)("Example")),(0,d.tZ)("pre",null,(0,d.tZ)("code",null,'datetrunc(datetime("2020-03-01"), week)\ndatetrunc(datetime("2020-03-01"), month)'))),(0,d.tZ)("div",null,(0,d.tZ)("h3",null,"LASTDAY"),(0,d.tZ)("p",null,(0,s.t)("Get the last date by the date unit.")),(0,d.tZ)("h4",null,(0,s.t)("Syntax")),(0,d.tZ)("pre",null,(0,d.tZ)("code",null,"lastday([datetime], [dateunit])\ndateunit = (year | month | week)")),(0,d.tZ)("h4",null,(0,s.t)("Example")),(0,d.tZ)("pre",null,(0,d.tZ)("code",null,'lastday(datetime("today"), month)'))),(0,d.tZ)("div",null,(0,d.tZ)("h3",null,"HOLIDAY"),(0,d.tZ)("p",null,(0,s.t)("Get the specify date for the holiday")),(0,d.tZ)("h4",null,(0,s.t)("Syntax")),(0,d.tZ)("pre",null,(0,d.tZ)("code",null,"holiday([string])\nholiday([holiday string], [datetime])\nholiday([holiday string], [datetime], [country name])")),(0,d.tZ)("h4",null,(0,s.t)("Example")),(0,d.tZ)("pre",null,(0,d.tZ)("code",null,'holiday("new year")\nholiday("christmas", datetime("2019"))\nholiday("christmas", dateadd(datetime("2019"), 1, year))\nholiday("christmas", datetime("2 years ago"))\nholiday("Easter Monday", datetime("2019"), "UK")')))),m=e=>{const t=(0,i.Fg)();return(0,d.tZ)(d.ms,null,(({css:r})=>(0,d.tZ)(c.u,a()({overlayClassName:r`
            .ant-tooltip-content {
              min-width: ${125*t.gridUnit}px;
              max-height: 410px;
              overflow-y: scroll;

              .ant-tooltip-inner {
                max-width: ${125*t.gridUnit}px;
                h3 {
                  font-size: ${t.typography.sizes.m}px;
                  font-weight: ${t.typography.weights.bold};
                }
                h4 {
                  font-size: ${t.typography.sizes.m}px;
                  font-weight: ${t.typography.weights.bold};
                }
                pre {
                  border: none;
                  text-align: left;
                  word-break: break-word;
                  font-size: ${t.typography.sizes.s}px;
                }
              }
            }
          `},e))))};function v(e){return(0,d.tZ)(m,a()({title:p},e))}var f,h;u(m,"useTheme{theme}",(()=>[i.Fg])),(f="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(f.register(p,"TIME_PICKER_HELPER","/Users/chenming/PycharmProjects/venv/superset/superset-frontend/src/explore/components/controls/DateFilterControl/components/DateFunctionTooltip.tsx"),f.register(m,"StyledTooltip","/Users/chenming/PycharmProjects/venv/superset/superset-frontend/src/explore/components/controls/DateFilterControl/components/DateFunctionTooltip.tsx"),f.register(v,"DateFunctionTooltip","/Users/chenming/PycharmProjects/venv/superset/superset-frontend/src/explore/components/controls/DateFilterControl/components/DateFunctionTooltip.tsx")),(h="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&h(e)},101090:(e,t,r)=>{r.d(t,{Z:()=>o.ZP});var o=r(465509);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature},831209:(e,t,r)=>{var o;r.d(t,{gT:()=>n,MZ:()=>a,po:()=>l}),e=r.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const n="previous calendar week",a="previous calendar month",l="previous calendar year";var s,i;(s="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(s.register(n,"PreviousCalendarWeek","/Users/chenming/PycharmProjects/venv/superset/superset-frontend/src/explore/components/controls/DateFilterControl/types.ts"),s.register(a,"PreviousCalendarMonth","/Users/chenming/PycharmProjects/venv/superset/superset-frontend/src/explore/components/controls/DateFilterControl/types.ts"),s.register(l,"PreviousCalendarYear","/Users/chenming/PycharmProjects/venv/superset/superset-frontend/src/explore/components/controls/DateFilterControl/types.ts")),(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&i(e)},848784:(e,t,r)=>{r.d(t,{un:()=>i,Sm:()=>c,MI:()=>d,_S:()=>u,gn:()=>p,kj:()=>v,Ae:()=>f,_d:()=>h,hj:()=>g,bk:()=>b,LY:()=>y,KZ:()=>Z,Zv:()=>L,V7:()=>C});var o,n=r(730381),a=r.n(n),l=r(455867),s=r(831209);e=r.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const i=[{value:"Common",label:(0,l.t)("Last"),order:0},{value:"Calendar",label:(0,l.t)("Previous"),order:1},{value:"Custom",label:(0,l.t)("Custom"),order:2},{value:"Advanced",label:(0,l.t)("Advanced"),order:3},{value:"No filter",label:(0,l.t)("No filter"),order:4}],c=[{value:"Last day",label:(0,l.t)("last day"),order:0},{value:"Last week",label:(0,l.t)("last week"),order:1},{value:"Last month",label:(0,l.t)("last month"),order:2},{value:"Last quarter",label:(0,l.t)("last quarter"),order:3},{value:"Last year",label:(0,l.t)("last year"),order:4}],d=new Set(c.map((({value:e})=>e))),u=[{value:s.gT,label:(0,l.t)("previous calendar week"),order:0},{value:s.MZ,label:(0,l.t)("previous calendar month"),order:1},{value:s.po,label:(0,l.t)("previous calendar year"),order:2}],p=new Set(u.map((({value:e})=>e))),m=[{value:"second",label:e=>(0,l.t)("Seconds %s",e)},{value:"minute",label:e=>(0,l.t)("Minutes %s",e)},{value:"hour",label:e=>(0,l.t)("Hours %s",e)},{value:"day",label:e=>(0,l.t)("Days %s",e)},{value:"week",label:e=>(0,l.t)("Weeks %s",e)},{value:"month",label:e=>(0,l.t)("Months %s",e)},{value:"quarter",label:e=>(0,l.t)("Quarters %s",e)},{value:"year",label:e=>(0,l.t)("Years %s",e)}],v=m.map(((e,t)=>({value:e.value,label:e.label((0,l.t)("Before")),order:t}))),f=m.map(((e,t)=>({value:e.value,label:e.label((0,l.t)("After")),order:t}))),h=[{value:"specific",label:(0,l.t)("Specific Date/Time"),order:0},{value:"relative",label:(0,l.t)("Relative Date/Time"),order:1},{value:"now",label:(0,l.t)("Now"),order:2},{value:"today",label:(0,l.t)("Midnight"),order:3}],g=h.slice(),b=new Set(["Last day","Last week","Last month","Last quarter","Last year"]),y=new Set([s.gT,s.MZ,s.po]),Z="YYYY-MM-DD[T]HH:mm:ss",L=a()().utc().startOf("day").subtract(7,"days").format(Z),C=a()().utc().startOf("day").format(Z);var G,P;(G="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(G.register(i,"FRAME_OPTIONS","/Users/chenming/PycharmProjects/venv/superset/superset-frontend/src/explore/components/controls/DateFilterControl/utils/constants.ts"),G.register(c,"COMMON_RANGE_OPTIONS","/Users/chenming/PycharmProjects/venv/superset/superset-frontend/src/explore/components/controls/DateFilterControl/utils/constants.ts"),G.register(d,"COMMON_RANGE_VALUES_SET","/Users/chenming/PycharmProjects/venv/superset/superset-frontend/src/explore/components/controls/DateFilterControl/utils/constants.ts"),G.register(u,"CALENDAR_RANGE_OPTIONS","/Users/chenming/PycharmProjects/venv/superset/superset-frontend/src/explore/components/controls/DateFilterControl/utils/constants.ts"),G.register(p,"CALENDAR_RANGE_VALUES_SET","/Users/chenming/PycharmProjects/venv/superset/superset-frontend/src/explore/components/controls/DateFilterControl/utils/constants.ts"),G.register(m,"GRAIN_OPTIONS","/Users/chenming/PycharmProjects/venv/superset/superset-frontend/src/explore/components/controls/DateFilterControl/utils/constants.ts"),G.register(v,"SINCE_GRAIN_OPTIONS","/Users/chenming/PycharmProjects/venv/superset/superset-frontend/src/explore/components/controls/DateFilterControl/utils/constants.ts"),G.register(f,"UNTIL_GRAIN_OPTIONS","/Users/chenming/PycharmProjects/venv/superset/superset-frontend/src/explore/components/controls/DateFilterControl/utils/constants.ts"),G.register(h,"SINCE_MODE_OPTIONS","/Users/chenming/PycharmProjects/venv/superset/superset-frontend/src/explore/components/controls/DateFilterControl/utils/constants.ts"),G.register(g,"UNTIL_MODE_OPTIONS","/Users/chenming/PycharmProjects/venv/superset/superset-frontend/src/explore/components/controls/DateFilterControl/utils/constants.ts"),G.register(b,"COMMON_RANGE_SET","/Users/chenming/PycharmProjects/venv/superset/superset-frontend/src/explore/components/controls/DateFilterControl/utils/constants.ts"),G.register(y,"CALENDAR_RANGE_SET","/Users/chenming/PycharmProjects/venv/superset/superset-frontend/src/explore/components/controls/DateFilterControl/utils/constants.ts"),G.register(Z,"MOMENT_FORMAT","/Users/chenming/PycharmProjects/venv/superset/superset-frontend/src/explore/components/controls/DateFilterControl/utils/constants.ts"),G.register(L,"SEVEN_DAYS_AGO","/Users/chenming/PycharmProjects/venv/superset/superset-frontend/src/explore/components/controls/DateFilterControl/utils/constants.ts"),G.register(C,"MIDNIGHT","/Users/chenming/PycharmProjects/venv/superset/superset-frontend/src/explore/components/controls/DateFilterControl/utils/constants.ts")),(P="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&P(e)},269296:(e,t,r)=>{var o;r.d(t,{UD:()=>n,mv:()=>a,ns:()=>s}),r(115306),e=r.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const n=" : ",a=(e,t)=>`${e}${n}${t}`,l=(e,t)=>e.replace("T00:00:00","")||(t?"-∞":"∞"),s=(e,t)=>{const r=e.split(n);if(1===r.length)return e;const o=(t||["unknown","unknown"]).map((e=>"inclusive"===e?"≤":"<"));return`${l(r[0],!0)} ${o[0]} col ${o[1]} ${l(r[1])}`};var i,c;(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(i.register(n,"SEPARATOR","/Users/chenming/PycharmProjects/venv/superset/superset-frontend/src/explore/components/controls/DateFilterControl/utils/dateFilterUtils.ts"),i.register(a,"buildTimeRangeString","/Users/chenming/PycharmProjects/venv/superset/superset-frontend/src/explore/components/controls/DateFilterControl/utils/dateFilterUtils.ts"),i.register(l,"formatDateEndpoint","/Users/chenming/PycharmProjects/venv/superset/superset-frontend/src/explore/components/controls/DateFilterControl/utils/dateFilterUtils.ts"),i.register(s,"formatTimeRange","/Users/chenming/PycharmProjects/venv/superset/superset-frontend/src/explore/components/controls/DateFilterControl/utils/dateFilterUtils.ts")),(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&c(e)},122685:(e,t,r)=>{r.d(t,{DL:()=>g,c_:()=>y,jK:()=>Z});var o,n=r(730381),a=r.n(n),l=r(269296),s=r(848784);e=r.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const i=String.raw`\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.\d+)?(?:(?:[+-]\d\d:\d\d)|Z)?`,c=String.raw`TODAY|NOW`,d=String.raw`[+-]?[1-9][0-9]*`,u=String.raw`YEAR|QUARTER|MONTH|WEEK|DAY|HOUR|MINUTE|SECOND`,p=RegExp(String.raw`^DATEADD\(DATETIME\("(${i}|${c})"\),\s(${d}),\s(${u})\)$`,"i"),m=RegExp(String.raw`^${i}$|^${c}$`,"i"),v=["now","today"],f={sinceDatetime:s.Zv,sinceMode:"relative",sinceGrain:"day",sinceGrainValue:-7,untilDatetime:s.V7,untilMode:"specific",untilGrain:"day",untilGrainValue:7,anchorMode:"now",anchorValue:"now"},h=["specific","today","now"],g=e=>"now"===e?a()().utc().startOf("second"):"today"===e?a()().utc().startOf("day"):a()(e),b=e=>g(e).format(s.KZ),y=e=>{const t=e.split(l.UD);if(2===t.length){const[e,r]=t;if(m.test(e)&&m.test(r)){const t=v.includes(e)?e:"specific",o=v.includes(r)?r:"specific";return{customRange:{...f,sinceDatetime:e,untilDatetime:r,sinceMode:t,untilMode:o},matchedFlag:!0}}const o=e.match(p);if(o&&m.test(r)&&e.includes(r)){const[e,t,n]=o.slice(1),a=v.includes(r)?r:"specific";return{customRange:{...f,sinceGrain:n,sinceGrainValue:parseInt(t,10),sinceDatetime:e,untilDatetime:e,sinceMode:"relative",untilMode:a},matchedFlag:!0}}const n=r.match(p);if(m.test(e)&&n&&r.includes(e)){const[t,r,o]=[...n.slice(1)],a=v.includes(e)?e:"specific";return{customRange:{...f,untilGrain:o,untilGrainValue:parseInt(r,10),sinceDatetime:t,untilDatetime:t,untilMode:"relative",sinceMode:a},matchedFlag:!0}}if(o&&n){const[e,t,r]=[...o.slice(1)],[a,l,s]=[...n.slice(1)];if(e===a)return{customRange:{...f,sinceGrain:r,sinceGrainValue:parseInt(t,10),sinceDatetime:e,untilGrain:s,untilGrainValue:parseInt(l,10),untilDatetime:a,anchorValue:e,sinceMode:"relative",untilMode:"relative",anchorMode:"now"===e?"now":"specific"},matchedFlag:!0}}}return{customRange:f,matchedFlag:!1}},Z=e=>{const{sinceDatetime:t,sinceMode:r,sinceGrain:o,sinceGrainValue:n,untilDatetime:a,untilMode:l,untilGrain:s,untilGrainValue:i,anchorValue:c}={...e};if(h.includes(r)&&h.includes(l))return`${"specific"===r?b(t):r} : ${"specific"===l?b(a):l}`;if(h.includes(r)&&"relative"===l){const e="specific"===r?b(t):r;return`${e} : DATEADD(DATETIME("${e}"), ${i}, ${s})`}if("relative"===r&&h.includes(l)){const e="specific"===l?b(a):l;return`DATEADD(DATETIME("${e}"), ${-Math.abs(n)}, ${o}) : ${e}`}return`DATEADD(DATETIME("${c}"), ${-Math.abs(n)}, ${o}) : DATEADD(DATETIME("${c}"), ${i}, ${s})`};var L,C;(L="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(L.register(i,"iso8601","/Users/chenming/PycharmProjects/venv/superset/superset-frontend/src/explore/components/controls/DateFilterControl/utils/dateParser.ts"),L.register(c,"datetimeConstant","/Users/chenming/PycharmProjects/venv/superset/superset-frontend/src/explore/components/controls/DateFilterControl/utils/dateParser.ts"),L.register(d,"grainValue","/Users/chenming/PycharmProjects/venv/superset/superset-frontend/src/explore/components/controls/DateFilterControl/utils/dateParser.ts"),L.register(u,"grain","/Users/chenming/PycharmProjects/venv/superset/superset-frontend/src/explore/components/controls/DateFilterControl/utils/dateParser.ts"),L.register(p,"CUSTOM_RANGE_EXPRESSION","/Users/chenming/PycharmProjects/venv/superset/superset-frontend/src/explore/components/controls/DateFilterControl/utils/dateParser.ts"),L.register(m,"ISO8601_AND_CONSTANT","/Users/chenming/PycharmProjects/venv/superset/superset-frontend/src/explore/components/controls/DateFilterControl/utils/dateParser.ts"),L.register(v,"DATETIME_CONSTANT","/Users/chenming/PycharmProjects/venv/superset/superset-frontend/src/explore/components/controls/DateFilterControl/utils/dateParser.ts"),L.register(f,"defaultCustomRange","/Users/chenming/PycharmProjects/venv/superset/superset-frontend/src/explore/components/controls/DateFilterControl/utils/dateParser.ts"),L.register(h,"SPECIFIC_MODE","/Users/chenming/PycharmProjects/venv/superset/superset-frontend/src/explore/components/controls/DateFilterControl/utils/dateParser.ts"),L.register(g,"dttmToMoment","/Users/chenming/PycharmProjects/venv/superset/superset-frontend/src/explore/components/controls/DateFilterControl/utils/dateParser.ts"),L.register(b,"dttmToString","/Users/chenming/PycharmProjects/venv/superset/superset-frontend/src/explore/components/controls/DateFilterControl/utils/dateParser.ts"),L.register(y,"customTimeRangeDecode","/Users/chenming/PycharmProjects/venv/superset/superset-frontend/src/explore/components/controls/DateFilterControl/utils/dateParser.ts"),L.register(Z,"customTimeRangeEncode","/Users/chenming/PycharmProjects/venv/superset/superset-frontend/src/explore/components/controls/DateFilterControl/utils/dateParser.ts")),(C="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&C(e)},216636:(e,t,r)=>{r.d(t,{c_:()=>o.c_,jK:()=>o.jK,DL:()=>o.DL,_S:()=>n._S,LY:()=>n.LY,gn:()=>n.gn,Sm:()=>n.Sm,bk:()=>n.bk,MI:()=>n.MI,un:()=>n.un,V7:()=>n.V7,KZ:()=>n.KZ,kj:()=>n.kj,_d:()=>n._d,Ae:()=>n.Ae,hj:()=>n.hj,UD:()=>a.UD,mv:()=>a.mv,ns:()=>a.ns});var o=r(122685),n=r(848784),a=r(269296);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature},653350:(e,t,r)=>{var o;r.d(t,{Q:()=>n}),e=r.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const n=(e,t=!1)=>(r,o=!1)=>{const n=o||t;if(!r&&e)return n?e:{"data-test":e};if(r&&!e)return n?r:{"data-test":r};if(!r&&!e)return console.warn('testWithId function has missed "prefix" and "id" params'),n?"":{"data-test":""};const a=`${e}__${r}`;return n?a:{"data-test":a}};var a,l;(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&a.register(n,"testWithId","/Users/chenming/PycharmProjects/venv/superset/superset-frontend/src/utils/testUtils.ts"),(l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&l(e)}}]);