"use strict";(globalThis.webpackChunksuperset=globalThis.webpackChunksuperset||[]).push([[5296],{604759:(e,t,r)=>{r.d(t,{Z:()=>p});var o,s=r(667294),a=r(751995),n=r(455867),l=r(574520),d=r(835932),i=r(211965);e=r.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const c=(0,a.iK)(l.Z)`
  .modal-content {
    height: 900px;
    display: flex;
    flex-direction: column;
    align-items: stretch;
  }

  .modal-header {
    flex: 0 1 auto;
  }

  .modal-body {
    flex: 1 1 auto;
    overflow: auto;
  }

  .modal-footer {
    flex: 0 1 auto;
  }

  .ant-modal-body {
    overflow: auto;
  }
`,u=({onClickReview:e,onClickSnooze:t,onHide:r,show:o,hideFooter:a=!1})=>(0,i.tZ)(c,{show:o,onHide:r,title:(0,n.t)("Ready to review filters in this dashboard?"),hideFooter:a,footer:(0,i.tZ)(s.Fragment,null,(0,i.tZ)(d.Z,{buttonSize:"small",onClick:t},(0,n.t)("Remind me in 24 hours")),(0,i.tZ)(d.Z,{buttonSize:"small",onClick:r},(0,n.t)("Cancel")),(0,i.tZ)(d.Z,{buttonSize:"small",buttonStyle:"primary",onClick:e},(0,n.t)("Start Review"))),responsive:!0},(0,i.tZ)("div",null,(0,n.t)("filter_box will be deprecated in a future version of Superset. Please replace filter_box by dashboard filter components."))),f=u,p=f;var h,m;(h="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(h.register(c,"StyledFilterBoxMigrationModal","/Users/chenming/PycharmProjects/venv/superset/superset-frontend/src/dashboard/components/FilterBoxMigrationModal.tsx"),h.register(u,"FilterBoxMigrationModal","/Users/chenming/PycharmProjects/venv/superset/superset-frontend/src/dashboard/components/FilterBoxMigrationModal.tsx"),h.register(f,"default","/Users/chenming/PycharmProjects/venv/superset/superset-frontend/src/dashboard/components/FilterBoxMigrationModal.tsx")),(m="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&m(e)},281788:(e,t,r)=>{r.d(t,{TZ:()=>n,u7:()=>l,B8:()=>d});var o,s=r(431069),a=r(68492);e=r.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const n=(e,t,r)=>s.Z.put({endpoint:`api/v1/dashboard/${e}/filter_state/${r}/`,jsonPayload:{value:t}}).then((e=>e.json.message)).catch((e=>(a.Z.error(e),null))),l=(e,t)=>s.Z.post({endpoint:`api/v1/dashboard/${e}/filter_state`,jsonPayload:{value:t}}).then((e=>e.json.key)).catch((e=>(a.Z.error(e),null))),d=(e,t)=>s.Z.get({endpoint:`api/v1/dashboard/${e}/filter_state/${t}/`}).then((({json:e})=>JSON.parse(e.value))).catch((e=>(a.Z.error(e),null)));var i,c;(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(i.register(n,"updateFilterKey","/Users/chenming/PycharmProjects/venv/superset/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/keyValue.tsx"),i.register(l,"createFilterKey","/Users/chenming/PycharmProjects/venv/superset/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/keyValue.tsx"),i.register(d,"getFilterValue","/Users/chenming/PycharmProjects/venv/superset/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/keyValue.tsx")),(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&c(e)},525619:(e,t,r)=>{r.r(t),r.d(t,{MigrationContext:()=>S,default:()=>U});var o,s=r(667294),a=r(593185),n=r(455867),l=r(137703),d=r(505977),i=r(414114),c=r(838703),u=r(604759),f=r(405516),p=r(959954),h=r(550810),m=r(514505),v=r(700362),b=r(672570),g=r(961337),_=r(269856),y=r(427600),L=r(23525),P=r(870695),H=r(152794),G=r(281788),R=r(211965);e=r.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);var E="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};const S=s.createContext(_.Qi.NOOP);(0,v.Z)();const D=s.lazy((()=>Promise.all([r.e(1216),r.e(995),r.e(876),r.e(2671),r.e(8680),r.e(193),r.e(9021),r.e(8013),r.e(452)]).then(r.bind(r,581819)))),j=document.title,x=()=>{const e=(0,l.I0)(),t=(0,l.v9)((e=>e.user)),{addDangerToast:r}=(0,i.e)(),{idOrSlug:o}=(0,d.UO)(),{result:v,error:E}=(0,f.QU)(o),{result:x,error:O}=(0,f.Es)(o),{result:U,error:M}=(0,f.JL)(o),T=(0,s.useRef)(!1),Z=E||O,C=Boolean(v&&x),F=(0,L.e)(y.KD.migrationState),N=(0,a.c)(a.T.ENABLE_FILTER_BOX_MIGRATION),{dashboard_title:k,css:w,metadata:I,id:A=0}=v||{},[B,Q]=(0,s.useState)(F||_.Qi.NOOP);if((0,s.useEffect)((()=>{const r=x&&x.some((e=>{var t;return"filter_box"===(null==(t=e.form_data)?void 0:t.viz_type)}));if(v&&(0,P.M)(v,t)){if(null!=I&&I.native_filter_configuration)return void Q(N?_.Qi.CONVERTED:_.Qi.NOOP);if(r)if(N){if(F&&Object.values(_.Qi).includes(F))return void Q(F);const e=(0,g.rV)(g.dR.filter_box_transition_snoozed_at,{});if(Date.now()-(e[A]||0)<_.Yd)return void Q(_.Qi.SNOOZED);Q(_.Qi.UNDECIDED)}else(0,a.c)(a.T.DASHBOARD_NATIVE_FILTERS)&&e((0,b.Dz)((0,n.t)("filter_box will be deprecated in a future version of Superset. Please replace filter_box by dashboard filter components.")))}}),[C]),(0,s.useEffect)((()=>{A&&async function(){const t=(0,L.e)(y.KD.nativeFiltersKey);let r=t||{};const o=(0,L.e)(y.KD.nativeFilters);t&&(r=await(0,G.B8)(A,t)),o&&(r=o),C&&(T.current||(T.current=!0,(0,a.c)(a.T.DASHBOARD_NATIVE_FILTERS_SET)&&e((0,H.pi)(A))),e((0,p.Y)(v,x,B,r)))}()}),[C,B]),(0,s.useEffect)((()=>(k&&(document.title=k),()=>{document.title=j})),[k]),(0,s.useEffect)((()=>w?(0,m.Z)(w):()=>{}),[w]),(0,s.useEffect)((()=>{M?r((0,n.t)("Error loading chart datasources. Filters may not work correctly.")):e((0,h.Fy)(U))}),[r,U,M,e]),Z)throw Z;return C?(0,R.tZ)(s.Fragment,null,(0,R.tZ)(u.Z,{show:B===_.Qi.UNDECIDED,hideFooter:!N,onHide:()=>{Q(_.Qi.SNOOZED)},onClickReview:()=>{Q(_.Qi.REVIEWING)},onClickSnooze:()=>{const e=(0,g.rV)(g.dR.filter_box_transition_snoozed_at,{});(0,g.LS)(g.dR.filter_box_transition_snoozed_at,{...e,[A]:Date.now()}),Q(_.Qi.SNOOZED)}}),(0,R.tZ)(S.Provider,{value:B},(0,R.tZ)(D,null))):(0,R.tZ)(c.Z,null)};E(x,"useDispatch{dispatch}\nuseSelector{user}\nuseToasts{{ addDangerToast }}\nuseParams{{ idOrSlug }}\nuseDashboard{{ result: dashboard, error: dashboardApiError }}\nuseDashboardCharts{{ result: charts, error: chartsApiError }}\nuseDashboardDatasets{{ result: datasets, error: datasetsApiError }}\nuseRef{isDashboardHydrated}\nuseState{[filterboxMigrationState, setFilterboxMigrationState](migrationStateParam || FILTER_BOX_MIGRATION_STATES.NOOP)}\nuseEffect{}\nuseEffect{}\nuseEffect{}\nuseEffect{}\nuseEffect{}",(()=>[l.I0,l.v9,i.e,d.UO,f.QU,f.Es,f.JL]));const O=x,U=O;var M,T;(M="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(M.register(S,"MigrationContext","/Users/chenming/PycharmProjects/venv/superset/superset-frontend/src/dashboard/containers/DashboardPage.tsx"),M.register(D,"DashboardContainer","/Users/chenming/PycharmProjects/venv/superset/superset-frontend/src/dashboard/containers/DashboardPage.tsx"),M.register(j,"originalDocumentTitle","/Users/chenming/PycharmProjects/venv/superset/superset-frontend/src/dashboard/containers/DashboardPage.tsx"),M.register(x,"DashboardPage","/Users/chenming/PycharmProjects/venv/superset/superset-frontend/src/dashboard/containers/DashboardPage.tsx"),M.register(O,"default","/Users/chenming/PycharmProjects/venv/superset/superset-frontend/src/dashboard/containers/DashboardPage.tsx")),(T="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&T(e)},514505:(e,t,r)=>{var o,s,a;function n(e){const t=document.createElement("style");return t.className=e,t.type="text/css",t}function l(e){const t="CssEditor-css",r=document.head||document.getElementsByTagName("head")[0],o=document.querySelector(`.${t}`)||n(t);return"styleSheet"in o?o.styleSheet.cssText=e:o.innerHTML=e,r.appendChild(o),function(){o.remove()}}r.d(t,{Z:()=>l}),e=r.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature,(s="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(s.register(n,"createStyleElement","/Users/chenming/PycharmProjects/venv/superset/superset-frontend/src/dashboard/util/injectCustomCss.ts"),s.register(l,"injectCustomCss","/Users/chenming/PycharmProjects/venv/superset/superset-frontend/src/dashboard/util/injectCustomCss.ts")),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&a(e)},242190:(e,t,r)=>{r.d(t,{l6:()=>c,s_:()=>f});var o,s=r(405568),a=r(667294);e=r.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);var n,l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};!function(e){e.LOADING="loading",e.COMPLETE="complete",e.ERROR="error"}(n||(n={}));const d={status:n.LOADING,result:null,error:null};function i(e){const[t,r]=(0,a.useState)(d),o=(0,a.useRef)((()=>{}));return(0,a.useEffect)((()=>{r(d),o.current();let t=!1;return o.current=()=>{t=!0},(0,s.Z)({method:"GET",endpoint:e})({}).then((e=>{t||r({status:n.COMPLETE,result:e,error:null})})).catch((e=>{t||r({status:n.ERROR,result:null,error:e})})),()=>{t=!0}}),[e]),t}function c(e,t){return(0,a.useMemo)((()=>{if(e.status!==n.COMPLETE)return e;try{return{...e,result:t(e.result)}}catch(e){return{status:n.ERROR,result:null,error:e}}}),[e,t])}l(i,"useState{[resource, setResource](initialState)}\nuseRef{cancelRef}\nuseEffect{}"),l(c,"useMemo{}");const u=e=>e.result;function f(e){return c(i(e),u)}var p,h;l(f,"useTransformedResource{}\nuseApiResourceFullBody{}",(()=>[c,i])),(p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(p.register(n,"ResourceStatus","/Users/chenming/PycharmProjects/venv/superset/superset-frontend/src/hooks/apiResources/apiResources.ts"),p.register(d,"initialState","/Users/chenming/PycharmProjects/venv/superset/superset-frontend/src/hooks/apiResources/apiResources.ts"),p.register(i,"useApiResourceFullBody","/Users/chenming/PycharmProjects/venv/superset/superset-frontend/src/hooks/apiResources/apiResources.ts"),p.register(c,"useTransformedResource","/Users/chenming/PycharmProjects/venv/superset/superset-frontend/src/hooks/apiResources/apiResources.ts"),p.register(u,"extractInnerResult","/Users/chenming/PycharmProjects/venv/superset/superset-frontend/src/hooks/apiResources/apiResources.ts"),p.register(f,"useApiV1Resource","/Users/chenming/PycharmProjects/venv/superset/superset-frontend/src/hooks/apiResources/apiResources.ts")),(h="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&h(e)},237459:(e,t,r)=>{r.d(t,{h:()=>c});var o,s=r(115926),a=r.n(s),n=r(242190);e=r.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);var l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};function d({owners:e}){return e?e.map((e=>`${e.first_name} ${e.last_name}`)):null}const i=a().encode({columns:["owners.first_name","owners.last_name"],keys:["none"]});function c(e){return(0,n.l6)((0,n.s_)(`/api/v1/chart/${e}?q=${i}`),d)}var u,f;l(c,"useTransformedResource{}\nuseApiV1Resource{}",(()=>[n.l6,n.s_])),(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(u.register(d,"extractOwnerNames","/Users/chenming/PycharmProjects/venv/superset/superset-frontend/src/hooks/apiResources/charts.ts"),u.register(i,"ownerNamesQuery","/Users/chenming/PycharmProjects/venv/superset/superset-frontend/src/hooks/apiResources/charts.ts"),u.register(c,"useChartOwnerNames","/Users/chenming/PycharmProjects/venv/superset/superset-frontend/src/hooks/apiResources/charts.ts")),(f="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&f(e)},40712:(e,t,r)=>{r.d(t,{QU:()=>n,Es:()=>l,JL:()=>d});var o,s=r(242190);e=r.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);var a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};const n=e=>(0,s.l6)((0,s.s_)(`/api/v1/dashboard/${e}`),(e=>({...e,metadata:e.json_metadata&&JSON.parse(e.json_metadata)||{},position_data:e.position_json&&JSON.parse(e.position_json)})));a(n,"useTransformedResource{}\nuseApiV1Resource{}",(()=>[s.l6,s.s_]));const l=e=>(0,s.s_)(`/api/v1/dashboard/${e}/charts`);a(l,"useApiV1Resource{}",(()=>[s.s_]));const d=e=>(0,s.s_)(`/api/v1/dashboard/${e}/datasets`);var i,c;a(d,"useApiV1Resource{}",(()=>[s.s_])),(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(i.register(n,"useDashboard","/Users/chenming/PycharmProjects/venv/superset/superset-frontend/src/hooks/apiResources/dashboards.ts"),i.register(l,"useDashboardCharts","/Users/chenming/PycharmProjects/venv/superset/superset-frontend/src/hooks/apiResources/dashboards.ts"),i.register(d,"useDashboardDatasets","/Users/chenming/PycharmProjects/venv/superset/superset-frontend/src/hooks/apiResources/dashboards.ts")),(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&c(e)},405516:(e,t,r)=>{r.d(t,{hb:()=>o.h,QU:()=>s.QU,Es:()=>s.Es,JL:()=>s.JL}),r(242190);var o=r(237459),s=r(40712);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature},961337:(e,t,r)=>{var o,s,a,n;function l(e,t){return i(e,t)}function d(e,t){c(e,t)}function i(e,t){try{const r=localStorage.getItem(e);return null===r?t:JSON.parse(r)}catch{return t}}function c(e,t){try{localStorage.setItem(e,JSON.stringify(t))}catch{}}r.d(t,{dR:()=>s,rV:()=>l,LS:()=>d,OH:()=>i,I_:()=>c}),e=r.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature,function(e){e.filter_box_transition_snoozed_at="filter_box_transition_snoozed_at",e.chart_split_sizes="chart_split_sizes",e.controls_width="controls_width",e.datasource_width="datasource_width",e.is_datapanel_open="is_datapanel_open",e.homepage_chart_filter="homepage_chart_filter",e.homepage_dashboard_filter="homepage_dashboard_filter",e.homepage_collapse_state="homepage_collapse_state",e.homepage_activity_filter="homepage_activity_filter",e.sqllab__is_autocomplete_enabled="sqllab__is_autocomplete_enabled",e.explore__data_table_time_formatted_columns="explore__data_table_time_formatted_columns"}(s||(s={})),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(a.register(s,"LocalStorageKeys","/Users/chenming/PycharmProjects/venv/superset/superset-frontend/src/utils/localStorageHelpers.ts"),a.register(l,"getItem","/Users/chenming/PycharmProjects/venv/superset/superset-frontend/src/utils/localStorageHelpers.ts"),a.register(d,"setItem","/Users/chenming/PycharmProjects/venv/superset/superset-frontend/src/utils/localStorageHelpers.ts"),a.register(i,"dangerouslyGetItemDoNotUse","/Users/chenming/PycharmProjects/venv/superset/superset-frontend/src/utils/localStorageHelpers.ts"),a.register(c,"dangerouslySetItemDoNotUse","/Users/chenming/PycharmProjects/venv/superset/superset-frontend/src/utils/localStorageHelpers.ts")),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&n(e)}}]);