/*! For license information please see 251.eb5e886f5a9529a077e8.js.LICENSE.txt */
"use strict";(self.webpackChunkxircuits=self.webpackChunkxircuits||[]).push([[251,463,25],{9780:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.BezierCurve=e.BezierCurvepPoints=void 0;const n=i(31886),o=i(39917);var r;!function(t){t[t.SOURCE=0]="SOURCE",t[t.SOURCE_CONTROL=1]="SOURCE_CONTROL",t[t.TARGET_CONTROL=2]="TARGET_CONTROL",t[t.TARGET=3]="TARGET"}(r=e.BezierCurvepPoints||(e.BezierCurvepPoints={}));class s extends o.Polygon{constructor(){super([new n.Point(0,0),new n.Point(0,0),new n.Point(0,0),new n.Point(0,0)])}getSVGCurve(){return`M${this.getSource().toSVG()} C${this.getSourceControl().toSVG()}, ${this.getTargetControl().toSVG()}, ${this.getTarget().toSVG()}`}setPoints(t){if(4!==t.length)throw new Error("BezierCurve must have extactly 4 points");super.setPoints(t)}getSource(){return this.points[r.SOURCE]}getSourceControl(){return this.points[r.SOURCE_CONTROL]}getTargetControl(){return this.points[r.TARGET_CONTROL]}getTarget(){return this.points[r.TARGET]}setSource(t){this.points[r.SOURCE]=t}setSourceControl(t){this.points[r.SOURCE_CONTROL]=t}setTargetControl(t){this.points[r.TARGET_CONTROL]=t}setTarget(t){this.points[r.TARGET]=t}}e.BezierCurve=s},62614:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Matrix=void 0,e.Matrix=class{constructor(t){this.matrix=t}mmul(t){return this.matrix=this.matrix.map(((e,i)=>t.asArray()[0].map(((n,o)=>e.reduce(((e,n,r)=>e+this.matrix[i][r]*t.asArray()[r][o]),0))))),this}asArray(){return this.matrix}get(t,e){return this.asArray()[t][e]}}},31886:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Point=void 0;const n=i(62614);class o{constructor(t,e){this.x=t,this.y=e}translate(t,e){this.x+=t,this.y+=e}clone(){return new o(this.x,this.y)}toSVG(){return this.x+" "+this.y}asMatrix(){return new n.Matrix([[this.x],[this.y],[1]])}transform(t){let e=t.mmul(this.asMatrix());this.x=e.get(0,0),this.y=e.get(1,0)}static middlePoint(t,e){return new o((e.x+t.x)/2,(e.y+t.y)/2)}static multiply(...t){let e=t[0];for(let i=1;i<t.length;i++)e=e.mmul(t[i]);return e}static scaleMatrix(t,e){return new n.Matrix([[t,0,0],[0,e,0],[0,0,1]])}static translateMatrix(t,e){return new n.Matrix([[1,0,t],[0,1,e],[0,0,1]])}static rotateMatrix(t){return new n.Matrix([[Math.cos(t),-1*Math.sin(t),0],[Math.sin(t),Math.cos(t),0],[0,0,1]])}static createScaleMatrix(t,e,i){return this.multiply(o.translateMatrix(i.x,i.y),o.scaleMatrix(t,e),o.translateMatrix(-i.x,-i.y))}static createRotateMatrix(t,e){return this.multiply(o.translateMatrix(e.x,e.y),o.rotateMatrix(t),o.translateMatrix(-e.x,-e.y))}}e.Point=o},39917:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Polygon=void 0;const n=i(31886),o=i(96486);class r{constructor(t=[]){this.points=t}serialize(){return o.map(this.points,(t=>[t.x,t.y]))}deserialize(t){this.points=o.map(t,(t=>new n.Point(t[0],t[1])))}scale(t,e,i){let r=n.Point.createScaleMatrix(t,e,i);o.forEach(this.points,(t=>{t.transform(r)}))}transform(t){o.forEach(this.points,(e=>{e.transform(t)}))}setPoints(t){this.points=t}getPoints(){return this.points}rotate(t){this.transform(n.Point.createRotateMatrix(t/(180/Math.PI),this.getOrigin()))}translate(t,e){o.forEach(this.points,(i=>{i.translate(t,e)}))}doClone(t){this.points=o.map(t.points,(t=>t.clone()))}clone(){let t=Object.create(this);return t.doClone(this),t}getOrigin(){if(0===this.points.length)return null;let t=this.getBoundingBox();return n.Point.middlePoint(t.getTopLeft(),t.getBottomRight())}static boundingBoxFromPolygons(t){return r.boundingBoxFromPoints(o.flatMap(t,(t=>t.getPoints())))}static boundingBoxFromPoints(t){if(0===t.length)return new s.Rectangle(0,0,0,0);let e=t[0].x,i=t[0].x,o=t[0].y,r=t[0].y;for(let n=1;n<t.length;n++)t[n].x<e&&(e=t[n].x),t[n].x>i&&(i=t[n].x),t[n].y<o&&(o=t[n].y),t[n].y>r&&(r=t[n].y);return new s.Rectangle(new n.Point(e,o),new n.Point(i,o),new n.Point(i,r),new n.Point(e,r))}getBoundingBox(){let t=this.points[0].x,e=this.points[0].x,i=this.points[0].y,o=this.points[0].y;for(let n=1;n<this.points.length;n++)this.points[n].x<t&&(t=this.points[n].x),this.points[n].x>e&&(e=this.points[n].x),this.points[n].y<i&&(i=this.points[n].y),this.points[n].y>o&&(o=this.points[n].y);return new s.Rectangle(new n.Point(t,i),new n.Point(e,i),new n.Point(e,o),new n.Point(t,o))}}e.Polygon=r;const s=i(37371)},37371:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Rectangle=void 0;const n=i(31886),o=i(39917);class r extends o.Polygon{constructor(t=0,e=0,i=0,o=0){t instanceof n.Point&&e instanceof n.Point&&i instanceof n.Point&&o instanceof n.Point?super([t,e,i,o]):t instanceof n.Point?super([t,new n.Point(t.x+e,t.y),new n.Point(t.x+e,t.y+i),new n.Point(t.x,t.y+i)]):super(r.pointsFromBounds(t,e,i,o))}static pointsFromBounds(t,e,i,o){return[new n.Point(t,e),new n.Point(t+i,e),new n.Point(t+i,e+o),new n.Point(t,e+o)]}updateDimensions(t,e,i,n){this.points=r.pointsFromBounds(t,e,i,n)}setPoints(t){if(4!==t.length)throw"Rectangles must always have 4 points";super.setPoints(t)}containsPoint(t){const e=this.getTopLeft(),i=this.getBottomRight();return t.x>=e.x&&t.x<=i.x&&t.y>=e.y&&t.y<=i.y}getWidth(){return Math.sqrt(Math.pow(this.getTopLeft().x-this.getTopRight().x,2)+Math.pow(this.getTopLeft().y-this.getTopRight().y,2))}getHeight(){return Math.sqrt(Math.pow(this.getBottomLeft().x-this.getTopLeft().x,2)+Math.pow(this.getBottomLeft().y-this.getTopLeft().y,2))}getTopMiddle(){return n.Point.middlePoint(this.getTopLeft(),this.getTopRight())}getBottomMiddle(){return n.Point.middlePoint(this.getBottomLeft(),this.getBottomRight())}getLeftMiddle(){return n.Point.middlePoint(this.getBottomLeft(),this.getTopLeft())}getRightMiddle(){return n.Point.middlePoint(this.getBottomRight(),this.getTopRight())}getTopLeft(){return this.points[0]}getTopRight(){return this.points[1]}getBottomRight(){return this.points[2]}getBottomLeft(){return this.points[3]}}e.Rectangle=r},81463:function(t,e,i){var n=this&&this.__createBinding||(Object.create?function(t,e,i,n){void 0===n&&(n=i),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[i]}})}:function(t,e,i,n){void 0===n&&(n=i),t[n]=e[i]}),o=this&&this.__exportStar||function(t,e){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(e,i)||n(e,t,i)};Object.defineProperty(e,"__esModule",{value:!0}),o(i(31886),e),o(i(62614),e),o(i(39917),e),o(i(37371),e),o(i(9780),e)},55598:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DiagramEngine=void 0;const n=i(86096),o=i(81463),r=i(16802);class s extends r.CanvasEngine{constructor(t={}){super(t),this.maxNumberPointsPerLink=1e3,this.nodeFactories=new r.FactoryBank,this.linkFactories=new r.FactoryBank,this.portFactories=new r.FactoryBank,this.labelFactories=new r.FactoryBank;const e=t=>{t.registerListener({factoryAdded:t=>{t.factory.setDiagramEngine(this)},factoryRemoved:t=>{t.factory.setDiagramEngine(null)}})};e(this.nodeFactories),e(this.linkFactories),e(this.portFactories),e(this.labelFactories)}getMouseElement(t){var e=t.target,i=this.model,n=r.Toolkit.closest(e,".port[data-name]");if(n){var o=r.Toolkit.closest(e,".node[data-nodeid]");return i.getNode(o.getAttribute("data-nodeid")).getPort(n.getAttribute("data-name"))}return(n=r.Toolkit.closest(e,".point[data-id]"))?i.getLink(n.getAttribute("data-linkid")).getPointModel(n.getAttribute("data-id")):(n=r.Toolkit.closest(e,"[data-linkid]"))?i.getLink(n.getAttribute("data-linkid")):(n=r.Toolkit.closest(e,".node[data-nodeid]"))?i.getNode(n.getAttribute("data-nodeid")):null}getNodeFactories(){return this.nodeFactories}getLinkFactories(){return this.linkFactories}getLabelFactories(){return this.labelFactories}getPortFactories(){return this.portFactories}getFactoryForNode(t){return"string"==typeof t?this.nodeFactories.getFactory(t):this.nodeFactories.getFactory(t.getType())}getFactoryForLink(t){return"string"==typeof t?this.linkFactories.getFactory(t):this.linkFactories.getFactory(t.getType())}getFactoryForLabel(t){return"string"==typeof t?this.labelFactories.getFactory(t):this.labelFactories.getFactory(t.getType())}getFactoryForPort(t){return"string"==typeof t?this.portFactories.getFactory(t):this.portFactories.getFactory(t.getType())}generateWidgetForLink(t){return this.getFactoryForLink(t).generateReactWidget({model:t})}generateWidgetForNode(t){return this.getFactoryForNode(t).generateReactWidget({model:t})}getNodeElement(t){const e=this.canvas.querySelector(`.node[data-nodeid="${t.getID()}"]`);if(null===e)throw new Error("Cannot find Node element with nodeID: ["+t.getID()+"]");return e}getNodePortElement(t){var e=this.canvas.querySelector(`.port[data-name="${t.getName()}"][data-nodeid="${t.getParent().getID()}"]`);if(null===e)throw new Error("Cannot find Node Port element with nodeID: ["+t.getParent().getID()+"] and name: ["+t.getName()+"]");return e}getPortCenter(t){return this.getPortCoords(t).getOrigin()}getPortCoords(t,e){if(!this.canvas)throw new Error("Canvas needs to be set first");e||(e=this.getNodePortElement(t));const i=e.getBoundingClientRect(),n=this.getRelativeMousePoint({clientX:i.left,clientY:i.top}),r=this.model.getZoomLevel()/100;return new o.Rectangle(n.x,n.y,i.width/r,i.height/r)}getNodeDimensions(t){if(!this.canvas)return{width:0,height:0};const e=this.getNodeElement(t).getBoundingClientRect();return{width:e.width,height:e.height}}getBoundingNodesRect(t){if(t)return 0===t.length?new o.Rectangle(0,0,0,0):o.Polygon.boundingBoxFromPolygons(t.map((t=>t.getBoundingBox())))}zoomToFitSelectedNodes(t){const e=this.model.getSelectedEntities().filter((t=>t instanceof n.NodeModel));this.zoomToFitNodes({margin:t.margin,maxZoom:t.maxZoom,nodes:e.length>0?e:null})}zoomToFitNodes(t){let e=t||0,i=[],n=null;t&&"object"==typeof t&&(e=t.margin||0,i=t.nodes||[],n=t.maxZoom||null),0===i.length&&(i=this.model.getNodes());const o=this.getBoundingNodesRect(i);if(o){let t=this.canvas.getBoundingClientRect();const i=(e=0)=>{const i=this.canvas.clientWidth/(o.getWidth()+2*e),r=this.canvas.clientHeight/(o.getHeight()+2*e);let s=i<r?i:r;return n&&s>n&&(s=n),{zoom:s,x:t.width/2-((o.getWidth()+2*e)/2+o.getTopLeft().x)*s+e,y:t.height/2-((o.getHeight()+2*e)/2+o.getTopLeft().y)*s+e}};let r=i(0);e&&(r.x<e||r.y<e)&&(r=i(e)),this.model.setZoomLevel(100*r.zoom),this.model.setOffset(r.x,r.y),this.repaintCanvas()}}getMaxNumberPointsPerLink(){return this.maxNumberPointsPerLink}setMaxNumberPointsPerLink(t){this.maxNumberPointsPerLink=t}}e.DiagramEngine=s},6397:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.LabelModel=void 0;const n=i(16802);class o extends n.BaseModel{constructor(t){super(Object.assign(Object.assign({},t),{offsetX:t.offsetX||0,offsetY:t.offsetY||0}))}deserialize(t){super.deserialize(t),this.options.offsetX=t.data.offsetX,this.options.offsetY=t.data.offsetY}serialize(){return Object.assign(Object.assign({},super.serialize()),{offsetX:this.options.offsetX,offsetY:this.options.offsetY})}}e.LabelModel=o},54408:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.LabelWidget=void 0;const n=i(56271),o=i(52476);var r;!function(t){t.Label=o.default.div`
		display: inline-block;
		position: absolute;
	`,t.Foreign=o.default.foreignObject`
		pointer-events: none;
		overflow: visible;
	`}(r||(r={}));class s extends n.Component{constructor(t){super(t),this.findPathAndRelativePositionToRenderLabel=t=>{const e=this.props.label.getParent(),i=e.getRenderedPath().map((t=>t.getTotalLength()));let n=i.reduce(((t,e)=>t+e),0)*(t/(e.getLabels().length+1)),o=0;for(;o<e.getRenderedPath().length;){if(n-i[o]<0)return{path:e.getRenderedPath()[o],position:n};n-=i[o],o++}},this.calculateLabelPosition=()=>{const t=this.findPathAndRelativePositionToRenderLabel(this.props.index+1);if(!t)return;const{path:e,position:i}=t,n=this.ref.current.offsetWidth,o=this.ref.current.offsetHeight,r=e.getPointAtLength(i),s=r.x-n/2+this.props.label.getOptions().offsetX,a=r.y-o/2+this.props.label.getOptions().offsetY;this.ref.current.style.transform=`translate(${s}px, ${a}px)`},this.ref=n.createRef()}componentDidUpdate(){window.requestAnimationFrame(this.calculateLabelPosition)}componentDidMount(){window.requestAnimationFrame(this.calculateLabelPosition)}render(){const t=this.props.engine.getCanvas();return n.createElement(r.Foreign,{key:this.props.label.getID(),width:null==t?void 0:t.offsetWidth,height:null==t?void 0:t.offsetHeight},n.createElement(r.Label,{ref:this.ref},this.props.engine.getFactoryForLabel(this.props.label).generateReactWidget({model:this.props.label})))}}e.LabelWidget=s},77720:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.LinkLayerFactory=void 0;const n=i(56271),o=i(16802),r=i(60251),s=i(82330);class a extends o.AbstractReactFactory{constructor(){super("diagram-links")}generateModel(t){return new r.LinkLayerModel}generateReactWidget(t){return n.createElement(s.LinkLayerWidget,{layer:t.model,engine:this.engine})}}e.LinkLayerFactory=a},60251:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.LinkLayerModel=void 0;const n=i(16802),o=i(91352);class r extends n.LayerModel{constructor(){super({type:"diagram-links",isSvg:!0,transformed:!0})}addModel(t){if(!(t instanceof o.LinkModel))throw new Error("Can only add links to this layer");t.registerListener({entityRemoved:()=>{this.getParent().removeLink(t)}}),super.addModel(t)}getLinks(){return this.getModels()}getChildModelFactoryBank(t){return t.getLinkFactories()}}e.LinkLayerModel=r},82330:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.LinkLayerWidget=void 0;const n=i(56271),o=i(52476),r=i(96486),s=i(83562);var a;!function(t){t.Container=o.default.div``}(a||(a={}));class h extends n.Component{render(){return n.createElement(n.Fragment,null,r.map(this.props.layer.getLinks(),(t=>n.createElement(s.LinkWidget,{key:t.getID(),link:t,diagramEngine:this.props.engine}))))}}e.LinkLayerWidget=h},91352:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.LinkModel=void 0;const n=i(80578),o=i(96486),r=i(81463),s=i(16802);class a extends s.BaseModel{constructor(t){super(t),this.points=[new n.PointModel({link:this}),new n.PointModel({link:this})],this.sourcePort=null,this.targetPort=null,this.renderedPaths=[],this.labels=[]}getBoundingBox(){return r.Polygon.boundingBoxFromPoints(o.map(this.points,(t=>t.getPosition())))}getSelectionEntities(){return this.getTargetPort()&&this.getSourcePort()?super.getSelectionEntities().concat(o.slice(this.points,1,this.points.length-1)):this.getSourcePort()?this.getTargetPort()?super.getSelectionEntities().concat(this.points):super.getSelectionEntities().concat(o.slice(this.points,1,this.points.length)):super.getSelectionEntities().concat(o.slice(this.points,0,this.points.length-1))}deserialize(t){super.deserialize(t),this.points=o.map(t.data.points||[],(e=>{var i=new n.PointModel({link:this,position:new r.Point(e.x,e.y)});return i.deserialize(Object.assign(Object.assign({},t),{data:e})),i})),o.forEach(t.data.labels||[],(e=>{let i=t.engine.getFactoryForLabel(e.type).generateModel({});i.deserialize(Object.assign(Object.assign({},t),{data:e})),this.addLabel(i)})),t.data.target&&t.getModel(t.data.targetPort).then((t=>{this.setTargetPort(t)})),t.data.source&&t.getModel(t.data.sourcePort).then((t=>{this.setSourcePort(t)}))}getRenderedPath(){return this.renderedPaths}setRenderedPaths(t){this.renderedPaths=t}serialize(){return Object.assign(Object.assign({},super.serialize()),{source:this.sourcePort?this.sourcePort.getParent().getID():null,sourcePort:this.sourcePort?this.sourcePort.getID():null,target:this.targetPort?this.targetPort.getParent().getID():null,targetPort:this.targetPort?this.targetPort.getID():null,points:o.map(this.points,(t=>t.serialize())),labels:o.map(this.labels,(t=>t.serialize()))})}doClone(t={},e){e.setPoints(o.map(this.getPoints(),(e=>e.clone(t)))),this.sourcePort&&e.setSourcePort(this.sourcePort.clone(t)),this.targetPort&&e.setTargetPort(this.targetPort.clone(t))}clearPort(t){this.sourcePort===t?this.setSourcePort(null):this.targetPort===t&&this.setTargetPort(null)}remove(){this.sourcePort&&(this.sourcePort.removeLink(this),delete this.sourcePort),this.targetPort&&(this.targetPort.removeLink(this),delete this.targetPort),super.remove()}isLastPoint(t){return this.getPointIndex(t)===this.points.length-1}getPointIndex(t){return this.points.indexOf(t)}getPointModel(t){for(var e=0;e<this.points.length;e++)if(this.points[e].getID()===t)return this.points[e];return null}getPortForPoint(t){return null!==this.sourcePort&&this.getFirstPoint().getID()===t.getID()?this.sourcePort:null!==this.targetPort&&this.getLastPoint().getID()===t.getID()?this.targetPort:null}getPointForPort(t){return null!==this.sourcePort&&this.sourcePort.getID()===t.getID()?this.getFirstPoint():null!==this.targetPort&&this.targetPort.getID()===t.getID()?this.getLastPoint():null}getFirstPoint(){return this.points[0]}getLastPoint(){return this.points[this.points.length-1]}setSourcePort(t){null!==t&&t.addLink(this),null!==this.sourcePort&&this.sourcePort.removeLink(this),this.sourcePort=t,this.fireEvent({port:t},"sourcePortChanged"),(null==t?void 0:t.reportedPosition)&&this.getPointForPort(t).setPosition(t.getCenter())}getSourcePort(){return this.sourcePort}getTargetPort(){return this.targetPort}setTargetPort(t){null!==t&&t.addLink(this),null!==this.targetPort&&this.targetPort.removeLink(this),this.targetPort=t,this.fireEvent({port:t},"targetPortChanged"),(null==t?void 0:t.reportedPosition)&&this.getPointForPort(t).setPosition(t.getCenter())}point(t,e,i=1){return this.addPoint(this.generatePoint(t,e),i)}addLabel(t){t.setParent(this),this.labels.push(t)}getPoints(){return this.points}getLabels(){return this.labels}setPoints(t){o.forEach(t,(t=>{t.setParent(this)})),this.points=t}removePoint(t){this.isLastPoint(t)&&this.remove(),this.points.splice(this.getPointIndex(t),1)}removePointsBefore(t){this.points.splice(0,this.getPointIndex(t))}removePointsAfter(t){this.points.splice(this.getPointIndex(t)+1)}removeMiddlePoints(){this.points.length>2&&this.points.splice(1,this.points.length-2)}addPoint(t,e=1){return t.setParent(this),this.points.splice(e,0,t),t}generatePoint(t=0,e=0){return new n.PointModel({link:this,position:new r.Point(t,e)})}}e.LinkModel=a},83562:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.LinkWidget=void 0;const n=i(56271),o=i(96486),r=i(54408),s=i(16802);class a extends n.Component{constructor(t){super(t),this.state={sourcePort:null,targetPort:null}}componentWillUnmount(){this.sourceListener&&this.sourceListener.deregister(),this.targetListener&&this.targetListener.deregister()}static getDerivedStateFromProps(t,e){return{sourcePort:t.link.getSourcePort(),targetPort:t.link.getTargetPort()}}installTarget(){this.targetListener&&this.targetListener.deregister(),this.props.link.getTargetPort()&&(this.targetListener=this.props.link.getTargetPort().registerListener({reportInitialPosition:t=>{this.forceUpdate()}}))}installSource(){this.sourceListener&&this.sourceListener.deregister(),this.props.link.getSourcePort()&&(this.sourceListener=this.props.link.getSourcePort().registerListener({reportInitialPosition:t=>{this.forceUpdate()}}))}componentDidUpdate(t,e,i){e.sourcePort!==this.state.sourcePort&&this.installSource(),e.targetPort!==this.state.targetPort&&this.installTarget()}static generateLinePath(t,e){return`M${t.getX()},${t.getY()} L ${e.getX()},${e.getY()}`}componentDidMount(){this.props.link.getSourcePort()&&this.installSource(),this.props.link.getTargetPort()&&this.installTarget()}render(){const{link:t}=this.props;return t.getSourcePort()&&!t.getSourcePort().reportedPosition||t.getTargetPort()&&!t.getTargetPort().reportedPosition?null:n.createElement(s.PeformanceWidget,{model:this.props.link,serialized:this.props.link.serialize()},(()=>n.createElement("g",{"data-linkid":this.props.link.getID()},this.props.diagramEngine.generateWidgetForLink(t),o.map(this.props.link.getLabels(),((t,e)=>n.createElement(r.LabelWidget,{key:t.getID(),engine:this.props.diagramEngine,label:t,index:e}))))))}}e.LinkWidget=a},80578:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PointModel=void 0;const n=i(16802);class o extends n.BasePositionModel{constructor(t){super(Object.assign(Object.assign({},t),{type:"point"})),this.parent=t.link}isConnectedToPort(){return null!==this.parent.getPortForPoint(this)}getLink(){return this.getParent()}remove(){this.parent&&this.parent.removePoint(this),super.remove()}isLocked(){return super.isLocked()||this.getParent().isLocked()}}e.PointModel=o},77404:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NodeLayerFactory=void 0;const n=i(56271),o=i(16802),r=i(41341),s=i(14310);class a extends o.AbstractReactFactory{constructor(){super("diagram-nodes")}generateModel(t){return new r.NodeLayerModel}generateReactWidget(t){return n.createElement(s.NodeLayerWidget,{layer:t.model,engine:this.engine})}}e.NodeLayerFactory=a},41341:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NodeLayerModel=void 0;const n=i(16802),o=i(86096);class r extends n.LayerModel{constructor(){super({type:"diagram-nodes",isSvg:!1,transformed:!0})}addModel(t){if(!(t instanceof o.NodeModel))throw new Error("Can only add nodes to this layer");t.registerListener({entityRemoved:()=>{this.getParent().removeNode(t)}}),super.addModel(t)}getChildModelFactoryBank(t){return t.getNodeFactories()}getNodes(){return this.getModels()}}e.NodeLayerModel=r},14310:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NodeLayerWidget=void 0;const n=i(56271),o=i(52476),r=i(96486),s=i(8672);var a;!function(t){t.Container=o.default.div``}(a||(a={}));class h extends n.Component{render(){return n.createElement(n.Fragment,null,r.map(this.props.layer.getNodes(),(t=>n.createElement(s.NodeWidget,{key:t.getID(),diagramEngine:this.props.engine,node:t}))))}}e.NodeLayerWidget=h},86096:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NodeModel=void 0;const n=i(96486),o=i(81463),r=i(16802);class s extends r.BasePositionModel{constructor(t){super(t),this.ports={},this.width=0,this.height=0}getBoundingBox(){return new o.Rectangle(this.getPosition(),this.width,this.height)}setPosition(t,e){const i=this.position;t instanceof o.Point?super.setPosition(t):super.setPosition(t,e),n.forEach(this.ports,(t=>{t.setPosition(t.getX()+this.position.x-i.x,t.getY()+this.position.y-i.y)}))}deserialize(t){super.deserialize(t),n.forEach(t.data.ports,(e=>{let i=t.engine.getFactoryForPort(e.type).generateModel({});i.deserialize(Object.assign(Object.assign({},t),{data:e})),t.registerModel(i),this.addPort(i)}))}serialize(){return Object.assign(Object.assign({},super.serialize()),{ports:n.map(this.ports,(t=>t.serialize()))})}doClone(t={},e){e.ports={},n.forEach(this.ports,(i=>{e.addPort(i.clone(t))}))}remove(){super.remove(),n.forEach(this.ports,(t=>{n.forEach(t.getLinks(),(t=>{t.remove()}))}))}getPortFromID(t){for(var e in this.ports)if(this.ports[e].getID()===t)return this.ports[e];return null}getLink(t){for(let e in this.ports){const i=this.ports[e].getLinks();if(i[t])return i[t]}}getPort(t){return this.ports[t]}getPorts(){return this.ports}removePort(t){for(let e of n.values(t.getLinks()))e.clearPort(t);this.ports[t.getName()]&&(this.ports[t.getName()].setParent(null),delete this.ports[t.getName()])}addPort(t){return t.setParent(this),this.ports[t.getName()]=t,t}updateDimensions({width:t,height:e}){this.width=t,this.height=e}}e.NodeModel=s},8672:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NodeWidget=void 0;const n=i(56271),o=i(96486),r=i(16802),s=i(52476),a=i(91033);var h;!function(t){t.Node=s.default.div`
		position: absolute;
		-webkit-touch-callout: none; /* iOS Safari */
		-webkit-user-select: none; /* Chrome/Safari/Opera */
		user-select: none;
		cursor: move;
		pointer-events: all;
	`}(h||(h={}));class d extends n.Component{constructor(t){super(t),this.ref=n.createRef()}componentWillUnmount(){var t;this.ob.disconnect(),this.ob=null,null===(t=this.listener)||void 0===t||t.deregister(),this.listener=null}componentDidUpdate(t,e,i){this.listener&&this.props.node!==t.node&&(this.listener.deregister(),this.installSelectionListener())}installSelectionListener(){this.listener=this.props.node.registerListener({selectionChanged:t=>{this.forceUpdate()}})}updateSize(t,e){this.props.node.updateDimensions({width:t,height:e});try{o.forEach(this.props.node.getPorts(),(t=>{t.updateCoords(this.props.diagramEngine.getPortCoords(t))}))}catch(t){}}componentDidMount(){this.ob=new a.default((t=>{const e=t[0].contentRect;this.updateSize(e.width,e.height)}));const t=this.ref.current.getBoundingClientRect();this.updateSize(t.width,t.height),this.ob.observe(this.ref.current),this.installSelectionListener()}render(){return n.createElement(r.PeformanceWidget,{model:this.props.node,serialized:this.props.node.serialize()},(()=>n.createElement(h.Node,{className:"node",ref:this.ref,"data-nodeid":this.props.node.getID(),style:{top:this.props.node.getY(),left:this.props.node.getX()}},this.props.diagramEngine.generateWidgetForNode(this.props.node))))}}e.NodeWidget=d},4304:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PortModel=e.PortModelAlignment=void 0;const n=i(96486),o=i(81463),r=i(16802);var s;(s=e.PortModelAlignment||(e.PortModelAlignment={})).TOP="top",s.LEFT="left",s.BOTTOM="bottom",s.RIGHT="right";class a extends r.BasePositionModel{constructor(t){super(t),this.links={},this.reportedPosition=!1}deserialize(t){super.deserialize(t),this.reportedPosition=!1,this.options.name=t.data.name,this.options.alignment=t.data.alignment}serialize(){return Object.assign(Object.assign({},super.serialize()),{name:this.options.name,alignment:this.options.alignment,parentNode:this.parent.getID(),links:n.map(this.links,(t=>t.getID()))})}setPosition(t,e){let i=this.position;super.setPosition(t,e),n.forEach(this.getLinks(),(n=>{let o=n.getPointForPort(this);o.setPosition(o.getX()+t-i.x,o.getY()+e-i.y)}))}doClone(t={},e){e.links={},e.parent=this.getParent().clone(t)}getNode(){return this.getParent()}getName(){return this.options.name}getMaximumLinks(){return this.options.maximumLinks}setMaximumLinks(t){this.options.maximumLinks=t}removeLink(t){delete this.links[t.getID()]}addLink(t){this.links[t.getID()]=t}getLinks(){return this.links}createLinkModel(){if(n.isFinite(this.options.maximumLinks)){var t=n.size(this.links);if(1===this.options.maximumLinks&&t>=1)return n.values(this.links)[0];if(t>=this.options.maximumLinks)return null}return null}reportPosition(){n.forEach(this.getLinks(),(t=>{t.getPointForPort(this).setPosition(this.getCenter())})),this.fireEvent({entity:this},"reportInitialPosition")}getCenter(){return new o.Point(this.getX()+this.width/2,this.getY()+this.height/2)}getBoundingBox(){return new o.Rectangle(this.position,this.width,this.height)}updateCoords(t){this.width=t.getWidth(),this.height=t.getHeight(),this.setPosition(t.getTopLeft()),this.reportedPosition=!0,this.reportPosition()}canLinkToPort(t){return!0}isLocked(){return super.isLocked()||this.getParent().isLocked()}}e.PortModel=a},80051:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PortWidget=void 0;const n=i(56271),o=i(96486),r=i(16802);class s extends n.Component{constructor(t){super(t),this.ref=n.createRef()}report(){this.props.port.updateCoords(this.props.engine.getPortCoords(this.props.port,this.ref.current))}componentWillUnmount(){this.engineListenerHandle&&this.engineListenerHandle.deregister()}componentDidUpdate(t,e,i){this.props.port.reportedPosition||this.report()}componentDidMount(){this.engineListenerHandle=this.props.engine.registerListener({canvasReady:()=>{this.report()}}),this.props.engine.getCanvas()&&this.report()}getExtraProps(){return r.Toolkit.TESTING?{"data-links":o.keys(this.props.port.getNode().getPort(this.props.port.getName()).links).join(",")}:{}}render(){return n.createElement("div",Object.assign({style:this.props.style,ref:this.ref,className:`port ${this.props.className||""}`,"data-name":this.props.port.getName(),"data-nodeid":this.props.port.getNode().getID()},this.getExtraProps()),this.props.children)}}e.PortWidget=s},68251:function(t,e,i){var n=this&&this.__createBinding||(Object.create?function(t,e,i,n){void 0===n&&(n=i),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[i]}})}:function(t,e,i,n){void 0===n&&(n=i),t[n]=e[i]}),o=this&&this.__exportStar||function(t,e){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(e,i)||n(e,t,i)};Object.defineProperty(e,"__esModule",{value:!0}),o(i(55990),e),o(i(6397),e),o(i(91352),e),o(i(80578),e),o(i(83562),e),o(i(60251),e),o(i(82330),e),o(i(77720),e),o(i(41341),e),o(i(14310),e),o(i(77404),e),o(i(86096),e),o(i(8672),e),o(i(4304),e),o(i(80051),e),o(i(89214),e),o(i(13288),e),o(i(36228),e),o(i(55598),e)},55990:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DiagramModel=void 0;const n=i(96486),o=i(91352),r=i(86096),s=i(16802),a=i(41341),h=i(60251);class d extends s.CanvasModel{constructor(t={}){super(t),this.addLayer(new h.LinkLayerModel),this.addLayer(new a.NodeLayerModel)}deserialize(t){this.layers=[],super.deserialize(t)}addLayer(t){super.addLayer(t),t instanceof a.NodeLayerModel&&(this.activeNodeLayer=t),t instanceof h.LinkLayerModel&&(this.activeLinkLayer=t)}getLinkLayers(){return n.filter(this.layers,(t=>t instanceof h.LinkLayerModel))}getNodeLayers(){return n.filter(this.layers,(t=>t instanceof a.NodeLayerModel))}getActiveNodeLayer(){if(!this.activeNodeLayer){const t=this.getNodeLayers();0===t.length?this.addLayer(new a.NodeLayerModel):this.activeNodeLayer=t[0]}return this.activeNodeLayer}getActiveLinkLayer(){if(!this.activeLinkLayer){const t=this.getLinkLayers();0===t.length?this.addLayer(new h.LinkLayerModel):this.activeLinkLayer=t[0]}return this.activeLinkLayer}getNode(t){for(const e of this.getNodeLayers()){const i=e.getModel(t);if(i)return i}}getLink(t){for(const e of this.getLinkLayers()){const i=e.getModel(t);if(i)return i}}addAll(...t){return n.forEach(t,(t=>{t instanceof o.LinkModel?this.addLink(t):t instanceof r.NodeModel&&this.addNode(t)})),t}addLink(t){return this.getActiveLinkLayer().addModel(t),this.fireEvent({link:t,isCreated:!0},"linksUpdated"),t}addNode(t){return this.getActiveNodeLayer().addModel(t),this.fireEvent({node:t,isCreated:!0},"nodesUpdated"),t}removeLink(t){n.some(this.getLinkLayers(),(e=>e.removeModel(t)))&&this.fireEvent({link:t,isCreated:!1},"linksUpdated")}removeNode(t){n.some(this.getNodeLayers(),(e=>e.removeModel(t)))&&this.fireEvent({node:t,isCreated:!1},"nodesUpdated")}getLinks(){return n.flatMap(this.getLinkLayers(),(t=>n.values(t.getModels())))}getNodes(){return n.flatMap(this.getNodeLayers(),(t=>n.values(t.getModels())))}}e.DiagramModel=d},89214:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultDiagramState=void 0;const n=i(16802),o=i(4304),r=i(36228),s=i(13288);class a extends n.State{constructor(){super({name:"default-diagrams"}),this.childStates=[new n.SelectingState],this.dragCanvas=new n.DragCanvasState,this.dragNewLink=new r.DragNewLinkState,this.dragItems=new s.DragDiagramItemsState,this.registerAction(new n.Action({type:n.InputType.MOUSE_DOWN,fire:t=>{const e=this.engine.getActionEventBus().getModelForEvent(t);e?e instanceof o.PortModel?this.transitionWithEvent(this.dragNewLink,t):this.transitionWithEvent(this.dragItems,t):this.transitionWithEvent(this.dragCanvas,t)}})),this.registerAction(new n.Action({type:n.InputType.TOUCH_START,fire:t=>{this.transitionWithEvent(this.dragCanvas,t)}}))}}e.DefaultDiagramState=a},13288:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DragDiagramItemsState=void 0;const n=i(16802),o=i(96486),r=i(80578),s=i(4304);class a extends n.MoveItemsState{constructor(){super(),this.registerAction(new n.Action({type:n.InputType.MOUSE_UP,fire:t=>{const e=this.engine.getMouseElement(t.event);e instanceof s.PortModel&&o.forEach(this.initialPositions,(t=>{if(t.item instanceof r.PointModel){const i=t.item.getParent();if(i.getLastPoint()!==t.item)return;i.getSourcePort().canLinkToPort(e)&&(i.setTargetPort(e),e.reportPosition(),this.engine.repaintCanvas())}}))}}))}}e.DragDiagramItemsState=a},36228:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DragNewLinkState=void 0;const n=i(16802),o=i(4304);class r extends n.AbstractDisplacementState{constructor(t={}){super({name:"drag-new-link"}),this.config=Object.assign({allowLooseLinks:!0,allowLinksFromLockedPorts:!1},t),this.registerAction(new n.Action({type:n.InputType.MOUSE_DOWN,fire:t=>{this.port=this.engine.getMouseElement(t.event),this.config.allowLinksFromLockedPorts||!this.port.isLocked()?(this.link=this.port.createLinkModel(),this.link?(this.link.setSelected(!0),this.link.setSourcePort(this.port),this.engine.getModel().addLink(this.link),this.port.reportPosition()):this.eject()):this.eject()}})),this.registerAction(new n.Action({type:n.InputType.MOUSE_UP,fire:t=>{const e=this.engine.getMouseElement(t.event);if(e instanceof o.PortModel)return this.port.canLinkToPort(e)?(this.link.setTargetPort(e),e.reportPosition(),void this.engine.repaintCanvas()):(this.link.remove(),void this.engine.repaintCanvas());this.config.allowLooseLinks||(this.link.remove(),this.engine.repaintCanvas())}}))}fireMouseMoved(t){const e=this.port.getPosition(),i=this.engine.getModel().getZoomLevel()/100,n=this.engine.getModel().getOffsetX()/i,o=this.engine.getModel().getOffsetY()/i,r=this.initialXRelative/i,s=this.initialYRelative/i,a=e.x-n+(r-e.x)+t.virtualDisplacementX,h=e.y-o+(s-e.y)+t.virtualDisplacementY;this.link.getLastPoint().setPosition(a,h),this.engine.repaintCanvas()}}e.DragNewLinkState=r},91033:(t,e,i)=>{i.r(e),i.d(e,{default:()=>k});var n=function(){if("undefined"!=typeof Map)return Map;function t(t,e){var i=-1;return t.some((function(t,n){return t[0]===e&&(i=n,!0)})),i}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(e){var i=t(this.__entries__,e),n=this.__entries__[i];return n&&n[1]},e.prototype.set=function(e,i){var n=t(this.__entries__,e);~n?this.__entries__[n][1]=i:this.__entries__.push([e,i])},e.prototype.delete=function(e){var i=this.__entries__,n=t(i,e);~n&&i.splice(n,1)},e.prototype.has=function(e){return!!~t(this.__entries__,e)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,e){void 0===e&&(e=null);for(var i=0,n=this.__entries__;i<n.length;i++){var o=n[i];t.call(e,o[1],o[0])}},e}()}(),o="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,r=void 0!==i.g&&i.g.Math===Math?i.g:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),s="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(r):function(t){return setTimeout((function(){return t(Date.now())}),1e3/60)},a=["top","right","bottom","left","width","height","size","weight"],h="undefined"!=typeof MutationObserver,d=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(t,e){var i=!1,n=!1,o=0;function r(){i&&(i=!1,t()),n&&h()}function a(){s(r)}function h(){var t=Date.now();if(i){if(t-o<2)return;n=!0}else i=!0,n=!1,setTimeout(a,20);o=t}return h}(this.refresh.bind(this))}return t.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},t.prototype.removeObserver=function(t){var e=this.observers_,i=e.indexOf(t);~i&&e.splice(i,1),!e.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},t.prototype.updateObservers_=function(){var t=this.observers_.filter((function(t){return t.gatherActive(),t.hasActive()}));return t.forEach((function(t){return t.broadcastActive()})),t.length>0},t.prototype.connect_=function(){o&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),h?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){o&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(t){var e=t.propertyName,i=void 0===e?"":e;a.some((function(t){return!!~i.indexOf(t)}))&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),l=function(t,e){for(var i=0,n=Object.keys(e);i<n.length;i++){var o=n[i];Object.defineProperty(t,o,{value:e[o],enumerable:!1,writable:!1,configurable:!0})}return t},c=function(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView||r},g=m(0,0,0,0);function u(t){return parseFloat(t)||0}function p(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];return e.reduce((function(e,i){return e+u(t["border-"+i+"-width"])}),0)}var f="undefined"!=typeof SVGGraphicsElement?function(t){return t instanceof c(t).SVGGraphicsElement}:function(t){return t instanceof c(t).SVGElement&&"function"==typeof t.getBBox};function P(t){return o?f(t)?function(t){var e=t.getBBox();return m(0,0,e.width,e.height)}(t):function(t){var e=t.clientWidth,i=t.clientHeight;if(!e&&!i)return g;var n=c(t).getComputedStyle(t),o=function(t){for(var e={},i=0,n=["top","right","bottom","left"];i<n.length;i++){var o=n[i],r=t["padding-"+o];e[o]=u(r)}return e}(n),r=o.left+o.right,s=o.top+o.bottom,a=u(n.width),h=u(n.height);if("border-box"===n.boxSizing&&(Math.round(a+r)!==e&&(a-=p(n,"left","right")+r),Math.round(h+s)!==i&&(h-=p(n,"top","bottom")+s)),!function(t){return t===c(t).document.documentElement}(t)){var d=Math.round(a+r)-e,l=Math.round(h+s)-i;1!==Math.abs(d)&&(a-=d),1!==Math.abs(l)&&(h-=l)}return m(o.left,o.top,a,h)}(t):g}function m(t,e,i,n){return{x:t,y:e,width:i,height:n}}var v=function(){function t(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=m(0,0,0,0),this.target=t}return t.prototype.isActive=function(){var t=P(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},t}(),y=function(t,e){var i,n,o,r,s,a,h,d=(n=(i=e).x,o=i.y,r=i.width,s=i.height,a="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,h=Object.create(a.prototype),l(h,{x:n,y:o,width:r,height:s,top:o,right:n+r,bottom:s+o,left:n}),h);l(this,{target:t,contentRect:d})},L=function(){function t(t,e,i){if(this.activeObservations_=[],this.observations_=new n,"function"!=typeof t)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=e,this.callbackCtx_=i}return t.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof c(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new v(t)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof c(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach((function(e){e.isActive()&&t.activeObservations_.push(e)}))},t.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map((function(t){return new y(t.target,t.broadcastRect())}));this.callback_.call(t,e,t),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),b="undefined"!=typeof WeakMap?new WeakMap:new n,M=function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var i=d.getInstance(),n=new L(e,i,this);b.set(this,n)};["observe","unobserve","disconnect"].forEach((function(t){M.prototype[t]=function(){var e;return(e=b.get(this))[t].apply(e,arguments)}}));const k=void 0!==r.ResizeObserver?r.ResizeObserver:M}}]);