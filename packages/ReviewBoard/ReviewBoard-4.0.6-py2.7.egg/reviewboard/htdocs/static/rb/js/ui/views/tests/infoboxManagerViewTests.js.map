{"version":3,"sources":["infoboxManagerViewTests.es6.js"],"names":[],"mappings":"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","file":"infoboxManagerViewTests.js","sourcesContent":["suite('rb/ui/views/InfoboxManagerView', function() {\n    const DummyInfoboxView = RB.BaseInfoboxView.extend({\n        infoboxID: 'dummy-infobox',\n    });\n\n    let infoboxManagerView;\n\n    beforeEach(function() {\n        infoboxManagerView = RB.InfoboxManagerView.getInstance();\n\n        spyOn(infoboxManagerView, '_fetchInfoboxContents')\n            .and.callFake((url, onDone) => {\n                expect(url).toBe('/foo/infobox/');\n                onDone('<strong>Hi!</strong>');\n            });\n    });\n\n    afterEach(function() {\n        infoboxManagerView.remove();\n        RB.InfoboxManagerView._instance = null;\n    });\n\n    describe('addTargets', function() {\n        let $el1;\n        let $el2;\n        let $els;\n\n        beforeEach(function() {\n            $el1 = $('<div/>');\n            $el2 = $('<div/>');\n            $els = $([$el1[0], $el2[0]]);\n        });\n\n        it('Registers new targets', function() {\n            infoboxManagerView.addTargets(DummyInfoboxView, $els);\n\n            expect($el1.data('has-infobox')).toBe(true);\n            expect($el2.data('has-infobox')).toBe(true);\n        });\n\n        it('Registers event handlers', function() {\n            spyOn(infoboxManagerView, '_onTargetMouseEnter');\n            spyOn(infoboxManagerView, '_onMouseLeave');\n\n            infoboxManagerView.addTargets(DummyInfoboxView, $els);\n\n            $el1.triggerHandler('mouseenter');\n            expect(infoboxManagerView._onTargetMouseEnter).toHaveBeenCalled();\n\n            $el1.triggerHandler('mouseleave');\n            expect(infoboxManagerView._onMouseLeave).toHaveBeenCalled();\n        });\n\n        it('Skips already-registered targets', function() {\n            spyOn(infoboxManagerView, '_onTargetMouseEnter');\n\n            infoboxManagerView.addTargets(DummyInfoboxView, $els);\n            infoboxManagerView.addTargets(DummyInfoboxView, $els);\n\n            $el1.triggerHandler('mouseenter');\n            expect(infoboxManagerView._onTargetMouseEnter.calls.count())\n                .toBe(1);\n        });\n    });\n\n    describe('getOrCreateInfobox', function() {\n        it('Caches infobox views', function() {\n            const infoboxView1 = infoboxManagerView.getOrCreateInfobox(\n                DummyInfoboxView);\n            const infoboxView2 = infoboxManagerView.getOrCreateInfobox(\n                DummyInfoboxView);\n\n            expect(infoboxView1.cid).toBe(infoboxView2.cid);\n        });\n\n        it('Starts infobox hidden', function() {\n            const infoboxView = infoboxManagerView.getOrCreateInfobox(\n                DummyInfoboxView);\n\n            expect(infoboxView.$el.is(':visible')).toBe(false);\n        });\n\n        it('Registers events', function() {\n            spyOn(infoboxManagerView, '_onInfoboxMouseEnter');\n            spyOn(infoboxManagerView, '_onMouseLeave');\n\n            const infoboxView = infoboxManagerView.getOrCreateInfobox(\n                DummyInfoboxView);\n\n            infoboxView.$el.triggerHandler('mouseenter');\n            expect(infoboxManagerView._onInfoboxMouseEnter).toHaveBeenCalled();\n\n            infoboxView.$el.triggerHandler('mouseleave');\n            expect(infoboxManagerView._onMouseLeave).toHaveBeenCalled();\n        });\n    });\n\n    describe('setPositioning', function() {\n        it('Overrides default position', function() {\n            infoboxManagerView.setPositioning(DummyInfoboxView, {\n                side: 'b',\n                foo: 'bar',\n            });\n\n            const infoboxView = infoboxManagerView.getOrCreateInfobox(\n                DummyInfoboxView);\n            expect(infoboxView.positioning).toEqual({\n                side: 'b',\n                foo: 'bar',\n            });\n        });\n    });\n\n    describe('Target Events', function() {\n        let $el;\n\n        beforeEach(function() {\n            spyOn(window, 'setTimeout').and.callFake(cb => cb());\n\n            $el = $('<a href=\"/foo/\" />');\n            infoboxManagerView.addTargets(DummyInfoboxView, $el);\n        });\n\n        describe('mouseenter', function() {\n            it('First time for target', function() {\n                $el.triggerHandler('mouseenter');\n\n                const infoboxView = infoboxManagerView.getOrCreateInfobox(\n                    DummyInfoboxView);\n                expect(infoboxView.$el.html()).toBe('<strong>Hi!</strong>');\n                expect(infoboxView.$el.is(':visible')).toBe(true);\n            });\n\n            it('Subsequent time for target (cached data)', function() {\n                const infoboxView = infoboxManagerView.getOrCreateInfobox(\n                    DummyInfoboxView);\n\n                spyOn(infoboxView, 'setContents').and.callThrough();\n                spyOn(infoboxManagerView, '_showInfobox')\n                    .and.callThrough();\n\n                infoboxManagerView._cache['/foo/infobox/'] = 'Old HTML';\n\n                $el.triggerHandler('mouseenter');\n\n                expect(infoboxView.$el.html()).toBe('<strong>Hi!</strong>');\n                expect(infoboxView.$el.is(':visible')).toBe(true);\n                expect(infoboxManagerView._showInfobox.calls.count())\n                    .toBe(1);\n                expect(infoboxView.setContents.calls.count()).toBe(2);\n            });\n        });\n\n        describe('mouseleave', function() {\n            beforeEach(function() {\n                $el.triggerHandler('mouseenter');\n            });\n\n            it('Cancels showing infobox', function() {\n                infoboxManagerView._showTimeout = 123;\n\n                $el.triggerHandler('mouseleave');\n\n                expect(infoboxManagerView._showTimeout).toBe(null);\n            });\n\n            it('Hides infobox', function() {\n                const infoboxView = infoboxManagerView.getOrCreateInfobox(\n                    DummyInfoboxView);\n                infoboxManagerView._showTimeout = 123;\n\n                expect(infoboxView.$el.is(':visible')).toBe(true);\n                expect(infoboxManagerView._activeInfoboxView).not.toBe(null);\n\n                $el.triggerHandler('mouseleave');\n\n                expect(infoboxView.$el.is(':visible')).toBe(false);\n                expect(infoboxManagerView._activeInfoboxView).toBe(null);\n                expect(infoboxManagerView._showTimeout).toBe(null);\n            });\n        });\n    });\n\n    describe('Infobox Events', function() {\n        let $el;\n\n        beforeEach(function() {\n            spyOn(window, 'setTimeout').and.callFake(cb => cb());\n\n            $el = $('<a href=\"/foo/\" />');\n            infoboxManagerView.addTargets(DummyInfoboxView, $el);\n        });\n\n        describe('mouseenter', function() {\n            it('Preserves infobox after leaving target', function() {\n                const infoboxView = infoboxManagerView.getOrCreateInfobox(\n                    DummyInfoboxView);\n\n                /* Simulate hovering over a target. */\n                $el.triggerHandler('mouseenter');\n                expect(infoboxManagerView._activeInfoboxView)\n                    .toBe(infoboxView);\n\n                /*\n                 * Restore the default behavior of the spy and simulate the\n                 * mouse leaving the target.\n                 */\n                window.setTimeout.and.callThrough();\n                $el.triggerHandler('mouseleave');\n\n                expect(infoboxManagerView._hideTimeout).not.toBe(null);\n                expect(infoboxManagerView._showTimeout).toBe(null);\n\n                infoboxView.$el.triggerHandler('mouseenter');\n\n                expect(infoboxView.$el.is(':visible')).toBe(true);\n                expect(infoboxManagerView._showTimeout).toBe(null);\n                expect(infoboxManagerView._hideTimeout).toBe(null);\n            });\n        });\n\n        describe('mouseleave', function() {\n            it('Hides infobox', function() {\n                const infoboxView = infoboxManagerView.getOrCreateInfobox(\n                    DummyInfoboxView);\n\n                infoboxManagerView._showInfobox(infoboxView, $el);\n                expect(infoboxView.$el.is(':visible')).toBe(true);\n                expect(infoboxManagerView._activeInfoboxView)\n                    .toBe(infoboxView);\n\n                infoboxView.$el.triggerHandler('mouseleave');\n\n                expect(infoboxView.$el.is(':visible')).toBe(false);\n                expect(infoboxManagerView._activeInfoboxView).toBe(null);\n                expect(infoboxManagerView._showTimeout).toBe(null);\n            });\n        });\n    });\n});\n"]}