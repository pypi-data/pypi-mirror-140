{"version":3,"sources":["datagridPageModel.es6.js"],"names":[],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,CAAC,YAAH,GAAkB,EAAE,CAAC,IAAH,CAAQ,MAAR,CAAe;AAC7B,EAAA,QAAQ,EAAE,CAAC,CAAC,QAAF,CAAW;AACjB,IAAA,KAAK,EAAE,CADU;AAEjB,IAAA,aAAa,EAAE;AAFE,GAAX,EAGP,EAAE,CAAC,IAAH,CAAQ,SAAR,CAAkB,QAHX,CADmB;;AAM7B;AACA,EAAA,aAAa,EAAE,IAPc;;AAS7B;AACJ;AACA;AACI,EAAA,UAZ6B,wBAYhB;AAAA;;AACT,SAAK,SAAL,GAAiB,IAAI,QAAQ,CAAC,UAAb,CAAwB,EAAxB,EAA4B;AACzC,MAAA,KAAK,EAAE,KAAK;AAD6B,KAA5B,CAAjB;AAIA,SAAK,QAAL,CAAc,KAAK,SAAnB,EAA8B,kBAA9B,EACc;AAAA,aAAM,KAAI,CAAC,GAAL,CAAS,OAAT,EAAkB,KAAI,CAAC,SAAL,CAAe,MAAjC,CAAN;AAAA,KADd;AAEH,GAnB4B;;AAqB7B;AACJ;AACA;AACA;AACA;AACA;AACA;AACI,EAAA,MA5B6B,kBA4BtB,EA5BsB,EA4BlB;AACP,QAAM,aAAa,GAAG,KAAK,GAAL,CAAS,eAAT,CAAtB;AAEA,SAAK,SAAL,CAAe,GAAf,CAAmB;AACf,MAAA,EAAE,EAAE,EADW;AAEf,MAAA,eAAe,EAAE,aAAa,eAAQ,aAAR,SAA2B;AAF1C,KAAnB;AAIH,GAnC4B;;AAqC7B;AACJ;AACA;AACA;AACA;AACA;AACA;AACI,EAAA,QA5C6B,oBA4CpB,EA5CoB,EA4ChB;AACT,SAAK,SAAL,CAAe,MAAf,CAAsB,KAAK,SAAL,CAAe,GAAf,CAAmB,EAAnB,CAAtB;AACH,GA9C4B;;AAgD7B;AACJ;AACA;AACI,EAAA,cAnD6B,4BAmDZ;AACb,SAAK,SAAL,CAAe,KAAf;AACH;AArD4B,CAAf,CAAlB","file":"datagridPageModel.js","sourcesContent":["/**\n * Models a generic datagrid.\n *\n * This will keep track of any selected objects, allowing subclasses to easily\n * perform operations on them.\n */\nRB.DatagridPage = RB.Page.extend({\n    defaults: _.defaults({\n        count: 0,\n        localSiteName: null,\n    }, RB.Page.prototype.defaults),\n\n    /* The type of object each row represents, for use in batch selection. */\n    rowObjectType: null,\n\n    /**\n     * Initialize the model.\n     */\n    initialize() {\n        this.selection = new Backbone.Collection([], {\n            model: this.rowObjectType,\n        });\n\n        this.listenTo(this.selection, 'add remove reset',\n                      () => this.set('count', this.selection.length));\n    },\n\n    /**\n     * Add a selected row to be used for any actions.\n     *\n     * Args:\n     *     id (string):\n     *         The ID of the selected row.\n     */\n    select(id) {\n        const localSiteName = this.get('localSiteName');\n\n        this.selection.add({\n            id: id,\n            localSitePrefix: localSiteName ? `s/${localSiteName}/` : null,\n        });\n    },\n\n    /**\n     * Remove a selected row.\n     *\n     * Args:\n     *     id (string):\n     *         The ID of the row to remove.\n     */\n    unselect(id) {\n        this.selection.remove(this.selection.get(id));\n    },\n\n    /**\n     * Clear the list of selected rows.\n     */\n    clearSelection() {\n        this.selection.reset();\n    },\n});\n"]}