{"version":3,"sources":["filteredCollectionTests.es6.js"],"names":[],"mappings":"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","file":"filteredCollectionTests.js","sourcesContent":["suite('rb/collections/FilteredCollection', function() {\n    let mainCollection;\n\n    beforeEach(function() {\n        mainCollection = new Backbone.Collection([\n            {\n                id: 1,\n                label: 'One',\n                bool: true,\n            },\n            {\n                id: 2,\n                label: 'Two',\n                bool: false,\n            },\n            {\n                id: 3,\n                label: 'Three',\n                bool: true,\n            },\n        ]);\n    });\n\n    describe('Initialization', function() {\n        it('Defaults to full contents', function() {\n            const filteredCollection = new RB.FilteredCollection(null, {\n                collection: mainCollection,\n            });\n\n            expect(filteredCollection.length).toBe(mainCollection.length);\n        });\n\n        it('Respects provided filter', function() {\n            const filteredCollection = new RB.FilteredCollection(null, {\n                collection: mainCollection,\n                filters: {\n                    label: 'T',\n                },\n            });\n\n            expect(filteredCollection.length).toBe(2);\n            expect(filteredCollection.at(0).id).toBe(2);\n            expect(filteredCollection.at(1).id).toBe(3);\n        });\n    });\n\n    describe('Methods', function() {\n        let filteredCollection;\n\n        beforeEach(function() {\n            filteredCollection = new RB.FilteredCollection(null, {\n                collection: mainCollection,\n                filters: {\n                    label: 'T',\n                },\n            });\n\n            expect(filteredCollection.length).toBe(2);\n        });\n\n        describe('setFilters', function() {\n            it('With new filter', function() {\n                filteredCollection.setFilters({\n                    label: 'O',\n                });\n\n                expect(filteredCollection.length).toBe(1);\n                expect(filteredCollection.at(0).id).toBe(1);\n            });\n\n            it('With multiple filters', function() {\n                filteredCollection.setFilters({\n                    label: 'T',\n                    bool: false,\n                });\n\n                expect(filteredCollection.length).toBe(1);\n                expect(filteredCollection.at(0).id).toBe(2);\n            });\n\n            it('{}', function() {\n                filteredCollection.setFilters({});\n\n                expect(filteredCollection.length).toBe(3);\n            });\n\n            it('null', function() {\n                filteredCollection.setFilters(null);\n\n                expect(filteredCollection.length).toBe(3);\n            });\n\n            it('undefined', function() {\n                filteredCollection.setFilters();\n\n                expect(filteredCollection.length).toBe(3);\n            });\n        });\n    });\n\n    describe('Main collection events', function() {\n        describe('With filters', function() {\n            let filteredCollection;\n\n            beforeEach(function() {\n                filteredCollection = new RB.FilteredCollection(null, {\n                    collection: mainCollection,\n                    filters: {\n                        label: 'T',\n                    },\n                });\n\n                expect(filteredCollection.length).toBe(2);\n            });\n\n            it('reset', function() {\n                mainCollection.reset([\n                    {\n                        id: 10,\n                        label: 'Monday',\n                    },\n                    {\n                        id: 11,\n                        label: 'Tuesday',\n                    },\n                ]);\n\n                expect(filteredCollection.length).toBe(1);\n                expect(filteredCollection.at(0).id).toBe(11);\n            });\n\n            describe('add', function() {\n                it('Matching filter', function() {\n                    mainCollection.add({\n                        id: 4,\n                        label: 'Test',\n                    });\n\n                    expect(filteredCollection.length).toBe(3);\n                    expect(filteredCollection.at(2).id).toBe(4);\n                });\n\n                it('Not matching filter', function() {\n                    mainCollection.add({\n                        id: 4,\n                        label: 'Four',\n                    });\n\n                    expect(filteredCollection.length).toBe(2);\n                });\n            });\n\n            describe('remove', function() {\n                it('Matching filter', function() {\n                    mainCollection.remove(mainCollection.get(2));\n\n                    expect(filteredCollection.length).toBe(1);\n                });\n\n                it('Not matching filter', function() {\n                    mainCollection.remove(mainCollection.get(0));\n\n                    expect(filteredCollection.length).toBe(2);\n                });\n            });\n        });\n\n        describe('Without filters', function() {\n            let filteredCollection;\n\n            beforeEach(function() {\n                filteredCollection = new RB.FilteredCollection(null, {\n                    collection: mainCollection,\n                });\n\n                expect(filteredCollection.length).toBe(3);\n            });\n\n            it('reset', function() {\n                mainCollection.reset([\n                    {\n                        id: 10,\n                        label: 'Monday',\n                    },\n                    {\n                        id: 11,\n                        label: 'Tuesday',\n                    },\n                ]);\n\n                expect(filteredCollection.length).toBe(2);\n            });\n\n            it('add', function() {\n                mainCollection.add({\n                    id: 4,\n                    label: 'Four',\n                });\n\n                expect(filteredCollection.length).toBe(4);\n                expect(filteredCollection.at(3).id).toBe(4);\n            });\n\n            it('remove', function() {\n                mainCollection.remove(mainCollection.get(1));\n                expect(filteredCollection.length).toBe(2);\n            });\n        });\n    });\n});\n"]}