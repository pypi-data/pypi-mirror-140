{"version":3,"sources":["reviewReplyDraftBannerViewTests.es6.js"],"names":[],"mappings":"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","file":"reviewReplyDraftBannerViewTests.js","sourcesContent":["suite('rb/reviewRequestPage/views/ReviewReplyDraftBannerView', function() {\n    let reviewReply;\n    let view;\n\n    beforeEach(function() {\n        reviewReply = new RB.ReviewReply();\n        view = new RB.ReviewRequestPage.ReviewReplyDraftBannerView({\n            model: reviewReply,\n            $floatContainer: $testsScratch,\n            reviewRequestEditor: new RB.ReviewRequestEditor({\n                reviewRequest: new RB.ReviewRequest(),\n            }),\n        });\n        view.render().$el.appendTo($testsScratch);\n    });\n\n    describe('Actions', function() {\n        it('Discard', function() {\n            spyOn(reviewReply, 'destroy');\n            view.$('.discard-button').click();\n            expect(reviewReply.destroy).toHaveBeenCalled();\n        });\n\n        it('Publish', function() {\n            spyOn(reviewReply, 'publish');\n            view.$('.publish-button').click();\n            expect(reviewReply.publish).toHaveBeenCalled();\n        });\n    });\n\n    describe('Event Handling', function() {\n        describe('Buttons', function() {\n            let $buttons;\n\n            beforeEach(function() {\n                $buttons = view.$('input');\n            });\n\n            describe('Disabled', function() {\n                it('When saving', function() {\n                    expect($buttons.prop('disabled')).toBe(false);\n                    reviewReply.trigger('saving');\n                    expect($buttons.prop('disabled')).toBe(true);\n                });\n\n                it('When destroying', function() {\n                    expect($buttons.prop('disabled')).toBe(false);\n                    reviewReply.trigger('destroying');\n                    expect($buttons.prop('disabled')).toBe(true);\n                });\n            });\n\n            describe('Enabled', function() {\n                it('When saved', function() {\n                    $buttons.prop('disabled', true);\n                    reviewReply.trigger('saved');\n                    expect($buttons.prop('disabled')).toBe(false);\n                });\n            });\n        });\n    });\n\n    describe('Publish', function() {\n        beforeEach(function() {\n            spyOn(reviewReply, 'ensureCreated').and.callFake(\n                (options, context) => options.success.call(context));\n\n            spyOn(reviewReply, 'publish');\n        });\n\n        describe('With Send E-Mail shown', function() {\n            beforeEach(function() {\n                view.remove();\n                view = new RB.ReviewRequestPage.ReviewReplyDraftBannerView({\n                    model: reviewReply,\n                    $floatContainer: $testsScratch,\n                    reviewRequestEditor: new RB.ReviewRequestEditor({\n                        reviewRequest: new RB.ReviewRequest(),\n                        showSendEmail: true\n                    })\n                });\n                view.render().$el.appendTo($testsScratch);\n            });\n\n            it('Send E-Mail true', function() {\n                $('.send-email').prop('checked', true);\n\n                $('.publish-button').click();\n\n                expect(reviewReply.publish).toHaveBeenCalled();\n                expect(reviewReply.publish.calls.argsFor(0)[0].trivial)\n                    .toBe(false);\n            });\n\n            it('Send E-Mail false', function() {\n                $('.send-email').prop('checked', false);\n\n                $('.publish-button').click();\n\n                expect(reviewReply.publish).toHaveBeenCalled();\n                expect(reviewReply.publish.calls.argsFor(0)[0].trivial)\n                    .toBe(true);\n            });\n        });\n\n        it('Without Send E-Mail shown', function() {\n            $('.publish-button').click();\n\n            expect($('.send-email').length).toEqual(0);\n            expect(reviewReply.publish).toHaveBeenCalled();\n            expect(reviewReply.publish.calls.argsFor(0)[0].trivial).toBe(false);\n        });\n    });\n});\n"]}