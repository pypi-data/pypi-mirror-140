{"version":3,"sources":["resourceListItemModelTests.es6.js"],"names":[],"mappings":"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","file":"resourceListItemModelTests.js","sourcesContent":["suite('rb/configForms/models/ResourceListItem', function() {\n    const TestListItem = RB.Config.ResourceListItem.extend({\n        syncAttrs: ['name', 'fileRegex'],\n        createResource: attrs => new RB.DefaultReviewer(attrs),\n    });\n    let resource;\n\n    beforeEach(function() {\n        resource = new RB.DefaultReviewer({\n            name: 'my-name',\n            fileRegex: '.*',\n        });\n    });\n\n    describe('Synchronizing attributes', function() {\n        it('On resource attribute change', function() {\n            const listItem = new TestListItem({\n                resource: resource,\n            });\n\n            resource.set('name', 'foo');\n\n            expect(listItem.get('name')).toBe('foo');\n        });\n\n        describe('On creation', function() {\n            it('With existing resource', function() {\n                const listItem = new TestListItem({\n                    resource: resource,\n                    name: 'dummy',\n                    fileRegex: '/foo/.*',\n                });\n\n                expect(listItem.get('name')).toBe('my-name');\n                expect(listItem.get('fileRegex')).toBe('.*');\n            });\n\n            it('With created resource', function() {\n                const listItem = new TestListItem({\n                    id: 123,\n                    name: 'new-name',\n                    fileRegex: '/foo/.*',\n                });\n\n                expect(listItem.get('name')).toBe('new-name');\n                expect(listItem.get('fileRegex')).toBe('/foo/.*');\n\n                resource = listItem.get('resource');\n                expect(resource.id).toBe(123);\n                expect(resource.get('name')).toBe('new-name');\n                expect(resource.get('fileRegex')).toBe('/foo/.*');\n            });\n        });\n    });\n\n    describe('Event mirroring', function() {\n        let listItem;\n\n        beforeEach(function() {\n            listItem = new TestListItem({\n                resource: resource,\n            });\n\n            spyOn(listItem, 'trigger');\n        });\n\n        it('destroy', function() {\n            resource.trigger('destroy');\n            expect(listItem.trigger).toHaveBeenCalledWith(\n                'destroy', listItem, undefined, {});\n        });\n\n        it('request', function() {\n            resource.trigger('request');\n            expect(listItem.trigger).toHaveBeenCalledWith('request');\n        });\n\n        it('sync', function() {\n            resource.trigger('sync');\n            expect(listItem.trigger).toHaveBeenCalledWith('sync');\n        });\n    });\n});\n"]}