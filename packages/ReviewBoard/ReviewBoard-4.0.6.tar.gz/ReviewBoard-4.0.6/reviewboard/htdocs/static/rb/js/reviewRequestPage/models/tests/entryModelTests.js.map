{"version":3,"sources":["entryModelTests.es6.js"],"names":[],"mappings":"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","file":"entryModelTests.js","sourcesContent":["suite('rb/reviewRequestPage/models/Entry', function() {\n    let reviewRequestEditor;\n    let entry;\n\n    beforeEach(function() {\n        reviewRequestEditor = new RB.ReviewRequestEditor({\n            reviewRequest: new RB.ReviewRequest(),\n        });\n\n        entry = new RB.ReviewRequestPage.Entry({\n            reviewRequestEditor: reviewRequestEditor,\n            id: '123',\n            typeID: 'some_type',\n            addedTimestamp: '2017-08-18T13:40:25Z',\n            updatedTimestamp: '2017-08-18T16:20:00Z',\n            ignoredAttr: 'ignored',\n        }, {\n            parse: true,\n        });\n    });\n\n    it('parse', function() {\n        expect(entry.id).toBe('123');\n        expect(entry.get('reviewRequestEditor')).toBe(reviewRequestEditor);\n        expect(entry.get('addedTimestamp'))\n            .toEqual(new Date(Date.UTC(2017, 7, 18, 13, 40, 25)));\n        expect(entry.get('updatedTimestamp'))\n            .toEqual(new Date(Date.UTC(2017, 7, 18, 16, 20, 0)));\n        expect(entry.get('typeID')).toBe('some_type');\n    });\n\n    describe('isUpdated', function() {\n        it('With newer updateTimestamp only', function() {\n            const metadata = {\n                updatedTimestamp: '2017-08-20T23:10:12Z',\n            };\n\n            expect(entry.isUpdated(metadata)).toBe(true);\n        });\n\n        it('With older updateTimestamp only', function() {\n            const metadata = {\n                updatedTimestamp: '2017-08-18T12:10:12Z',\n            };\n\n            expect(entry.isUpdated(metadata)).toBe(false);\n        });\n\n        it('With changed etag', function() {\n            const metadata = {\n                etag: 'new-etag',\n                updatedTimestamp: '2017-08-18T16:20:00Z',\n            };\n\n            expect(entry.isUpdated(metadata)).toBe(true);\n        });\n\n        it('With same updateTimestamp and etag', function() {\n            entry.set('etag', 'old-etag');\n\n            const metadata = {\n                etag: 'old-etag',\n                updatedTimestamp: '2017-08-18T16:20:00Z',\n            };\n\n            expect(entry.isUpdated(metadata)).toBe(false);\n        });\n    });\n});\n"]}