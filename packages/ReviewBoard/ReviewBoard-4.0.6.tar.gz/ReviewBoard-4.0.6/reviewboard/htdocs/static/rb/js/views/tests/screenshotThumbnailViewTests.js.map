{"version":3,"sources":["screenshotThumbnailViewTests.es6.js"],"names":[],"mappings":"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","file":"screenshotThumbnailViewTests.js","sourcesContent":["suite('rb/views/ScreenshotThumbnail', function() {\n    let model;\n    let view;\n\n    beforeEach(function() {\n        model = new RB.Screenshot();\n        model.url = '/screenshots/123/';\n        model.id = 123;\n        model.attributes.id = 123;\n        model.set('loaded', true);\n\n        const template =\n            '<div><a class=\"edit\"></a><a class=\"delete\">X</a></div>';\n\n        view = new RB.ScreenshotThumbnail({\n            el: $(template).appendTo($testsScratch),\n            model: model,\n        });\n        view.render();\n\n        spyOn(model, 'trigger').and.callThrough();\n        spyOn(view, 'trigger').and.callThrough();\n    });\n\n    describe('Actions', function() {\n        it('Begin caption editing', function() {\n            view.$caption.inlineEditor('startEdit');\n            expect(view.trigger).toHaveBeenCalledWith('beginEdit');\n        });\n\n        it('Cancel caption editing', function() {\n            view.$caption.inlineEditor('startEdit');\n            expect(view.trigger).toHaveBeenCalledWith('beginEdit');\n\n            view.$caption.inlineEditor('cancel');\n            expect(view.trigger).toHaveBeenCalledWith('endEdit');\n        });\n\n        it('Save caption', function() {\n            spyOn(model, 'save');\n\n            view.$caption.inlineEditor('startEdit');\n            expect(view.trigger).toHaveBeenCalledWith('beginEdit');\n\n            view.$el.find('input')\n                .val('Foo')\n                .triggerHandler('keyup');\n            view.$caption.inlineEditor('submit');\n\n            expect(view.trigger).toHaveBeenCalledWith('endEdit');\n            expect(model.get('caption')).toBe('Foo');\n            expect(model.save).toHaveBeenCalled();\n        });\n\n        it('Delete', function() {\n            spyOn(model, 'destroy').and.callThrough();\n            spyOn($, 'ajax').and.callFake(options => options.success());\n            spyOn(view.$el, 'fadeOut').and.callFake(done => done());\n\n            spyOn(view, 'remove');\n\n            view.$el.find('a.delete').click();\n\n            expect($.ajax).toHaveBeenCalled();\n            expect(model.destroy).toHaveBeenCalled();\n            expect(model.trigger.calls.argsFor(0)[0]).toBe('destroying');\n            expect(view.$el.fadeOut).toHaveBeenCalled();\n            expect(view.remove).toHaveBeenCalled();\n        });\n    });\n});\n"]}