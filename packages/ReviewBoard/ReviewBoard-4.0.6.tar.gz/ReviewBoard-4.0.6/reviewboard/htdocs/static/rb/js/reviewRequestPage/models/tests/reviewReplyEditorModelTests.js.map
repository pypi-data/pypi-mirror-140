{"version":3,"sources":["reviewReplyEditorModelTests.es6.js"],"names":[],"mappings":"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","file":"reviewReplyEditorModelTests.js","sourcesContent":["suite('rb/reviewRequestPage/models/ReviewReplyEditor', function() {\n    let reviewReply;\n    let review;\n    let editor;\n\n    beforeEach(function() {\n        review = new RB.Review({\n            loaded: true,\n            links: {\n                replies: {\n                    href: '/api/review/123/replies/',\n                },\n            },\n        });\n\n        reviewReply = review.createReply();\n\n        spyOn(review, 'ready').and.callFake(\n            (options, context) => options.ready.call(context));\n\n        spyOn(reviewReply, 'ensureCreated').and.callFake(\n            (options, context) => options.success.call(context));\n\n        spyOn(reviewReply, 'ready').and.callFake(\n            (options, context) => options.ready.call(context));\n    });\n\n    describe('Event handling', function() {\n        describe('reviewReply changes', function() {\n            beforeEach(function() {\n                editor = new RB.ReviewRequestPage.ReviewReplyEditor({\n                    contextType: 'body_top',\n                    review: review,\n                    reviewReply: reviewReply,\n                    text: 'My Text',\n                });\n            });\n\n            it('Sets up events on new reviewReply', function() {\n                spyOn(editor, 'listenTo').and.callThrough();\n\n                const reviewReply = new RB.ReviewReply();\n                editor.set('reviewReply', reviewReply);\n\n                expect(editor.listenTo.calls.count()).toEqual(2);\n                expect(editor.listenTo.calls.argsFor(0)[1]).toEqual('destroyed');\n                expect(editor.listenTo.calls.argsFor(1)[1]).toEqual('published');\n            });\n\n            it('Removes events from old reviewReply', function() {\n                editor.set('reviewReply', new RB.ReviewReply());\n\n                expect(editor._listeningTo.hasOwnProperty(reviewReply._listenId))\n                    .toBe(false);\n            });\n        });\n    });\n\n    describe('Methods', function() {\n        describe('save', function() {\n            function testBodySave(options) {\n                editor = new RB.ReviewRequestPage.ReviewReplyEditor({\n                    contextType: options.contextType,\n                    review: review,\n                    reviewReply: reviewReply,\n                    richText: options.richText,\n                    text: 'My Text',\n                });\n\n                spyOn(editor, 'trigger');\n                spyOn(reviewReply, 'save').and.callFake(\n                    (options, context) => options.success.call(context));\n\n                editor.save();\n\n                expect(editor.get('replyObject')).toBe(reviewReply);\n                expect(editor.get('hasDraft')).toBe(true);\n                expect(editor.get('text')).toBe('My Text');\n                expect(editor.get('richText')).toBe(true);\n                expect(reviewReply.get(options.textAttr)).toBe('My Text');\n                expect(reviewReply.get(options.richTextAttr)).toBe(\n                    options.richText);\n                expect(reviewReply.ready).toHaveBeenCalled();\n                expect(reviewReply.save).toHaveBeenCalled();\n                expect(editor.trigger).toHaveBeenCalledWith('saving');\n                expect(editor.trigger).toHaveBeenCalledWith('saved');\n            }\n\n            function testCommentSave(options) {\n                editor = new RB.ReviewRequestPage.ReviewReplyEditor({\n                    contextType: options.contextType,\n                    hasDraft: false,\n                    review: review,\n                    reviewReply: reviewReply,\n                    richText: options.richText,\n                    text: 'My Text',\n                });\n\n                spyOn(editor, 'trigger');\n                spyOn(options.model.prototype, 'ready').and.callFake(\n                    (options, context) => options.ready.call(context));\n                spyOn(options.model.prototype, 'save').and.callFake(\n                    (options, context) => options.success.call(context));\n\n                editor.save();\n\n                const replyObject = editor.get('replyObject');\n\n                expect(editor.get('hasDraft')).toBe(true);\n                expect(editor.get('text')).toBe('My Text');\n                expect(editor.get('richText')).toBe(true);\n                expect(replyObject instanceof options.model).toBe(true);\n                expect(replyObject.get('text')).toBe('My Text');\n                expect(replyObject.get('richText')).toBe(options.richText);\n                expect(options.model.prototype.ready).toHaveBeenCalled();\n                expect(options.model.prototype.save).toHaveBeenCalled();\n                expect(editor.trigger).toHaveBeenCalledWith('saving');\n                expect(editor.trigger).toHaveBeenCalledWith('saved');\n            }\n\n            it('With existing reply object', function() {\n                const replyObject = new RB.DiffCommentReply();\n\n                editor = new RB.ReviewRequestPage.ReviewReplyEditor({\n                    contextType: 'diff_comments',\n                    hasDraft: false,\n                    replyObject: replyObject,\n                    review: review,\n                    reviewReply: reviewReply,\n                    text: 'My Text',\n                });\n\n                spyOn(editor, 'trigger');\n                spyOn(replyObject, 'ready').and.callFake(\n                    (options, context) => options.ready.call(context));\n                spyOn(replyObject, 'save').and.callFake(\n                    (options, context) => options.success.call(context));\n\n                editor.save();\n\n                expect(editor.get('hasDraft')).toBe(true);\n                expect(editor.get('replyObject')).toBe(replyObject);\n                expect(replyObject.get('text')).toBe('My Text');\n                expect(replyObject.ready).toHaveBeenCalled();\n                expect(replyObject.save).toHaveBeenCalled();\n                expect(editor.trigger).toHaveBeenCalledWith('saving');\n                expect(editor.trigger).toHaveBeenCalledWith('saved');\n            });\n\n            it('With empty text', function() {\n                const replyObject = new RB.DiffCommentReply({\n                    text: 'Orig Text',\n                });\n\n                editor = new RB.ReviewRequestPage.ReviewReplyEditor({\n                    contextType: 'diff_comments',\n                    review: review,\n                    reviewReply: reviewReply,\n                });\n\n                spyOn(editor, 'trigger');\n                spyOn(editor, 'resetStateIfEmpty');\n                spyOn(replyObject, 'ready').and.callFake(\n                    (options, context) => options.ready.call(context));\n                spyOn(replyObject, 'save');\n\n                editor.set({\n                    hasDraft: false,\n                    replyObject: replyObject,\n                    text: '',\n                });\n                editor.save();\n\n                expect(editor.get('hasDraft')).toBe(false);\n                expect(editor.get('replyObject')).toBe(replyObject);\n                expect(replyObject.get('text')).toBe('Orig Text');\n                expect(replyObject.ready).toHaveBeenCalled();\n                expect(replyObject.save).not.toHaveBeenCalled();\n                expect(editor.resetStateIfEmpty).toHaveBeenCalled();\n                expect(editor.trigger).toHaveBeenCalledWith('saving');\n            });\n\n            describe('With body_top', function() {\n                function testSave(richText) {\n                    testBodySave({\n                        contextType: 'body_top',\n                        textAttr: 'bodyTop',\n                        richTextAttr: 'bodyTopRichText',\n                        richText: richText,\n                    });\n                }\n\n                it('richText=true', function() {\n                    testSave(true);\n                });\n\n                it('richText=false', function() {\n                    testSave(false);\n                });\n            });\n\n            describe('With body_bottom', function() {\n                function testSave(richText) {\n                    testBodySave({\n                        contextType: 'body_bottom',\n                        textAttr: 'bodyBottom',\n                        richTextAttr: 'bodyBottomRichText',\n                        richText: richText,\n                    });\n                }\n\n                it('richText=true', function() {\n                    testSave(true);\n                });\n\n                it('richText=false', function() {\n                    testSave(false);\n                });\n            });\n\n            describe('With diff comments', function() {\n                function testSave(richText) {\n                    testCommentSave({\n                        contextType: 'diff_comments',\n                        model: RB.DiffCommentReply,\n                        richText: richText,\n                    });\n                }\n\n                it('richText=true', function() {\n                    testSave(true);\n                });\n\n                it('richText=false', function() {\n                    testSave(false);\n                });\n            });\n\n            describe('With file attachment comments', function() {\n                function testSave(richText) {\n                    testCommentSave({\n                        contextType: 'file_attachment_comments',\n                        model: RB.FileAttachmentCommentReply,\n                        richText: richText,\n                    });\n                }\n\n                it('richText=true', function() {\n                    testSave(true);\n                });\n\n                it('richText=false', function() {\n                    testSave(false);\n                });\n            });\n\n            describe('With general comments', function() {\n                function testSave(richText) {\n                    testCommentSave({\n                        contextType: 'general_comments',\n                        model: RB.GeneralCommentReply,\n                        richText: richText,\n                    });\n                }\n\n                it('richText=true', function() {\n                    testSave(true);\n                });\n\n                it('richText=false', function() {\n                    testSave(false);\n                });\n            });\n\n            describe('With screenshot comments', function() {\n                function testSave(richText) {\n                    testCommentSave({\n                        contextType: 'screenshot_comments',\n                        model: RB.ScreenshotCommentReply,\n                        richText: richText,\n                    });\n                }\n\n                it('richText=true', function() {\n                    testSave(true);\n                });\n\n                it('richText=false', function() {\n                    testSave(false);\n                });\n            });\n        });\n\n        describe('resetStateIfEmpty', function() {\n            let replyObject;\n\n            beforeEach(function() {\n                replyObject = new RB.DiffCommentReply();\n\n                editor = new RB.ReviewRequestPage.ReviewReplyEditor({\n                    contextType: 'diff_comments',\n                    hasDraft: true,\n                    replyObject: replyObject,\n                    review: review,\n                    reviewReply: reviewReply,\n                });\n\n                spyOn(editor, 'trigger');\n                spyOn(replyObject, 'destroy').and.callFake(\n                    (options, context) => options.success.call(context));\n            });\n\n            it('Without empty text', function() {\n                editor.set('text', 'My Text');\n                editor.resetStateIfEmpty();\n\n                expect(replyObject.destroy).not.toHaveBeenCalled();\n                expect(editor.get('hasDraft')).toBe(true);\n                expect(editor.trigger).not.toHaveBeenCalledWith('resetState');\n            });\n\n            describe('With empty text', function() {\n                it('With no reply object', function() {\n                    editor.set('replyObject', null);\n                    editor.resetStateIfEmpty();\n\n                    expect(replyObject.destroy).not.toHaveBeenCalled();\n                    expect(editor.get('hasDraft')).toBe(false);\n                    expect(editor.trigger).toHaveBeenCalledWith('resetState');\n                });\n\n                it('With new reply object', function() {\n                    replyObject.set('id', null);\n                    editor.resetStateIfEmpty();\n\n                    expect(replyObject.destroy).not.toHaveBeenCalled();\n                    expect(editor.get('hasDraft')).toBe(false);\n                    expect(editor.trigger).toHaveBeenCalledWith('resetState');\n                });\n\n                it('With existing reply object', function() {\n                    replyObject.set('id', 123);\n                    editor.resetStateIfEmpty();\n\n                    expect(replyObject.destroy).toHaveBeenCalled();\n                    expect(editor.get('hasDraft')).toBe(false);\n                    expect(editor.trigger).toHaveBeenCalledWith('resetState');\n                });\n\n                describe('With context type', function() {\n                    beforeEach(function() {\n                        replyObject.set('id', 123);\n\n                        spyOn(editor, '_resetState');\n                        spyOn(reviewReply, 'discardIfEmpty');\n                    });\n\n                    it('body_top', function() {\n                        editor.set('contextType', 'body_top');\n                        editor.resetStateIfEmpty();\n\n                        expect(replyObject.destroy).not.toHaveBeenCalled();\n                        expect(editor._resetState).toHaveBeenCalledWith(true);\n                    });\n\n                    it('body_bottom', function() {\n                        editor.set('contextType', 'body_bottom');\n                        editor.resetStateIfEmpty();\n\n                        expect(replyObject.destroy).not.toHaveBeenCalled();\n                        expect(editor._resetState).toHaveBeenCalledWith(true);\n                    });\n\n                    it('diff_comments', function() {\n                        editor.set('contextType', 'diff_comments');\n                        editor.resetStateIfEmpty();\n\n                        expect(replyObject.destroy).toHaveBeenCalled();\n                        expect(editor._resetState).toHaveBeenCalledWith();\n                    });\n\n                    it('file_attachment_comments', function() {\n                        editor.set('contextType', 'file_attachment_comments');\n                        editor.resetStateIfEmpty();\n\n                        expect(replyObject.destroy).toHaveBeenCalled();\n                        expect(editor._resetState).toHaveBeenCalledWith();\n                    });\n\n                    it('general_comments', function() {\n                        editor.set('contextType', 'general_comments');\n                        editor.resetStateIfEmpty();\n\n                        expect(replyObject.destroy).toHaveBeenCalled();\n                        expect(editor._resetState).toHaveBeenCalledWith();\n                    });\n\n                    it('screenshot_comments', function() {\n                        editor.set('contextType', 'screenshot_comments');\n                        editor.resetStateIfEmpty();\n\n                        expect(replyObject.destroy).toHaveBeenCalled();\n                        expect(editor._resetState).toHaveBeenCalledWith();\n                    });\n                });\n            });\n        });\n    });\n});\n"]}