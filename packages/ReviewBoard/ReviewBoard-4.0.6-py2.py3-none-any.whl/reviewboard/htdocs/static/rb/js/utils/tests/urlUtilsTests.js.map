{"version":3,"sources":["urlUtilsTests.es6.js"],"names":[],"mappings":";;AAAA,KAAK,CAAC,mBAAD,EAAsB,YAAW;AAClC,EAAA,QAAQ,CAAC,iBAAD,EAAoB,YAAW;AACnC,IAAA,UAAU,CAAC,YAAW;AAClB,MAAA,MAAM,CAAC,GAAP,GAAa,YAAW,CAAE,CAA1B;AACH,KAFS,CAAV;AAIA,IAAA,SAAS,CAAC,YAAW;AACjB,UAAI,MAAM,CAAC,cAAP,CAAsB,KAAtB,CAAJ,EAAkC;AAC9B,eAAO,MAAM,CAAC,GAAd;AACH;AACJ,KAJQ,CAAT;AAMA,IAAA,EAAE,CAAC,wBAAD,EAA2B,UAAS,IAAT,EAAe;AACxC,MAAA,KAAK,CAAC,MAAD,EAAS,KAAT,CAAL;AAEA,UAAM,GAAG,GAAG,wDAAZ;AACA,UAAM,IAAI,GAAG,EAAE,CAAC,eAAH,CAAmB,GAAnB,CAAb;AAEA,MAAA,CAAC,oBAAY,IAAZ,SAAD;;AAEA,MAAA,CAAC,CAAC,KAAF,CAAQ,YAAW;AACf,QAAA,MAAM,CAAC,MAAM,CAAC,GAAR,CAAN,CAAmB,GAAnB,CAAuB,gBAAvB;AACA,QAAA,IAAI;AACP,OAHD;AAIH,KAZC,CAAF;AAaH,GAxBO,CAAR;AAyBH,CA1BI,CAAL","file":"urlUtilsTests.js","sourcesContent":["suite('rb/utils/urlUtils', function() {\n    describe('getLocationHash', function() {\n        beforeEach(function() {\n            window.xss = function() {};\n        });\n\n        afterEach(function() {\n            if (window.hasOwnProperty('xss')) {\n                delete window.xss;\n            }\n        });\n\n        it('Prevents XSS injection', function(done) {\n            spyOn(window, 'xss');\n\n            const url = 'http://www.example.com/#<img/src/onerror=window.xss()>';\n            const hash = RB.getLocationHash(url);\n\n            $(`a[name=\"${hash}\"]`);\n\n            _.delay(function() {\n                expect(window.xss).not.toHaveBeenCalled();\n                done();\n            });\n        });\n    });\n});\n"]}