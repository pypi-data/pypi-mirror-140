{"version":3,"sources":["resourceCollectionTests.es6.js"],"names":[],"mappings":"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","file":"resourceCollectionTests.js","sourcesContent":["suite('rb/resources/collections/ResourceCollection', function() {\n    let collection;\n    let reviewRequest;\n\n    beforeEach(function() {\n        reviewRequest = new RB.ReviewRequest({\n            id: 123,\n            loaded: true,\n            links: {\n                reviews: {\n                    href: '/api/review-requests/123/reviews/',\n                },\n            },\n        });\n\n        spyOn(reviewRequest, 'ready').and.callFake(\n            (options, context) => options.ready.call(context));\n\n        collection = new RB.ResourceCollection([], {\n            model: RB.Review,\n            parentResource: reviewRequest,\n        });\n    });\n\n    describe('Methods', function() {\n        describe('fetch', function() {\n            it('Populates collection', function() {\n                spyOn($, 'ajax').and.callFake(request => {\n                    expect(request.url).toBe(\n                        '/api/review-requests/123/reviews/');\n                    expect(request.type).toBe('GET');\n\n                    request.success({\n                        stat: 'ok',\n                        total_results: 2,\n                        links: {\n                            self: {\n                                method: 'GET',\n                                href: '/api/review-requests/123/reviews/',\n                            },\n                            next: {\n                                method: 'GET',\n                                href: '/api/review-requests/123/reviews/' +\n                                      '?start=25',\n                            },\n                        },\n                        reviews: [\n                            {\n                                id: 1,\n                                links: {},\n                            },\n                            {\n                                id: 2,\n                                links: {},\n                            },\n                        ],\n                    });\n                });\n\n                collection.fetch();\n\n                expect($.ajax).toHaveBeenCalled();\n                expect(collection.length).toBe(2);\n                expect(collection.at(0).id).toBe(1);\n                expect(collection.at(1).id).toBe(2);\n                expect(collection.hasPrev).toBe(false);\n                expect(collection.hasNext).toBe(true);\n            });\n\n            it('With start=', function() {\n                spyOn($, 'ajax').and.callFake(request => {\n                    expect(request.url).toBe(\n                        '/api/review-requests/123/reviews/');\n                    expect(request.data).not.toBe(undefined);\n                    expect(request.data.start).toBe(100);\n                });\n\n                collection.fetch({\n                    start: 100,\n                });\n\n                expect($.ajax).toHaveBeenCalled();\n            });\n\n            describe('With parentResource', function() {\n                it('Calls parentResource.ready', function() {\n                    spyOn(RB.BaseCollection.prototype, 'fetch');\n\n                    collection.fetch();\n\n                    expect(reviewRequest.ready).toHaveBeenCalled();\n                    expect(RB.BaseCollection.prototype.fetch)\n                        .toHaveBeenCalled();\n                });\n            });\n        });\n\n        describe('fetchAll', function() {\n            it('Spanning pages', function() {\n                let numFetches = 0;\n\n                spyOn($, 'ajax').and.callFake(request => {\n                    console.assert(numFetches < 2);\n\n                    expect(request.type).toBe('GET');\n\n                    numFetches++;\n\n                    if (numFetches === 1) {\n                        expect(request.url).toBe(\n                            '/api/review-requests/123/reviews/');\n\n                        request.success({\n                            stat: 'ok',\n                            total_results: 4,\n                            links: {\n                                self: {\n                                    method: 'GET',\n                                    href: '/api/review-requests/123/reviews/',\n                                },\n                                next: {\n                                    method: 'GET',\n                                    href: '/api/review-requests/123/reviews/' +\n                                          '?start=25',\n                                },\n                            },\n                            reviews: [\n                                {\n                                    id: 1,\n                                    links: {},\n                                },\n                                {\n                                    id: 2,\n                                    links: {},\n                                },\n                            ],\n                        });\n                    } else if (numFetches === 2) {\n                        expect(request.url).toBe(\n                            '/api/review-requests/123/reviews/?start=25');\n\n                        request.success({\n                            stat: 'ok',\n                            total_results: 4,\n                            links: {\n                                self: {\n                                    method: 'GET',\n                                    href: '/api/review-requests/123/reviews/' +\n                                          '?start=25',\n                                },\n                                prev: {\n                                    method: 'GET',\n                                    href: '/api/review-requests/123/reviews/' +\n                                          '?start=0',\n                                },\n                            },\n                            reviews: [\n                                {\n                                    id: 3,\n                                    links: {},\n                                },\n                                {\n                                    id: 4,\n                                    links: {},\n                                },\n                            ],\n                        });\n                    }\n                });\n\n                const result = collection.fetchAll();\n\n                expect(result).toBe(true);\n                expect($.ajax).toHaveBeenCalled();\n                expect(numFetches).toBe(2);\n                expect(collection.hasPrev).toBe(false);\n                expect(collection.hasNext).toBe(false);\n                expect(collection.totalResults).toBe(4);\n                expect(collection.currentPage).toBe(0);\n                expect(collection.length).toBe(4);\n                expect(collection.at(0).id).toBe(1);\n                expect(collection.at(1).id).toBe(2);\n                expect(collection.at(2).id).toBe(3);\n                expect(collection.at(3).id).toBe(4);\n            });\n        });\n\n        describe('fetchNext', function() {\n            it('With hasNext == false', function() {\n                collection.hasNext = false;\n                spyOn(collection, 'fetch');\n\n                const result = collection.fetchNext();\n\n                expect(result).toBe(false);\n                expect(collection.fetch).not.toHaveBeenCalled();\n            });\n\n            it('With hasNext == true', function() {\n                spyOn($, 'ajax').and.callFake(request => {\n                    expect(request.url).toBe(\n                        '/api/review-requests/123/reviews/?start=25');\n                    expect(request.type).toBe('GET');\n\n                    request.success({\n                        stat: 'ok',\n                        total_results: 2,\n                        links: {\n                            self: {\n                                method: 'GET',\n                                href: '/api/review-requests/123/reviews/',\n                            },\n                            prev: {\n                                method: 'GET',\n                                href: '/api/review-requests/123/reviews/' +\n                                      '?start=0',\n                            },\n                            next: {\n                                method: 'GET',\n                                href: '/api/review-requests/123/reviews/' +\n                                      '?start=50',\n                            },\n                        },\n                        reviews: [\n                            {\n                                id: 1,\n                                links: {},\n                            },\n                            {\n                                id: 2,\n                                links: {},\n                            },\n                        ],\n                    });\n                });\n\n                collection.hasNext = true;\n                collection.currentPage = 2;\n                collection._links = {\n                    next: {\n                        method: 'GET',\n                        href: '/api/review-requests/123/reviews/?start=25',\n                    },\n                };\n\n                spyOn(collection, 'fetch').and.callThrough();\n\n                const result = collection.fetchNext();\n\n                expect(result).toBe(true);\n                expect(collection.fetch).toHaveBeenCalled();\n                expect(collection.hasPrev).toBe(true);\n                expect(collection.hasNext).toBe(true);\n                expect(collection.currentPage).toBe(3);\n                expect(collection.models.length).toBe(2);\n            });\n        });\n\n        describe('fetchPrev', function() {\n            it('With hasPrev == false', function() {\n                collection.hasPrev = false;\n                spyOn(collection, 'fetch');\n\n                const result = collection.fetchPrev();\n\n                expect(result).toBe(false);\n                expect(collection.fetch).not.toHaveBeenCalled();\n            });\n\n            it('With hasPrev == true', function() {\n                spyOn($, 'ajax').and.callFake(request => {\n                    expect(request.url).toBe(\n                        '/api/review-requests/123/reviews/?start=25');\n                    expect(request.type).toBe('GET');\n\n                    request.success({\n                        stat: 'ok',\n                        total_results: 2,\n                        links: {\n                            self: {\n                                method: 'GET',\n                                href: '/api/review-requests/123/reviews/',\n                            },\n                            prev: {\n                                method: 'GET',\n                                href: '/api/review-requests/123/reviews/' +\n                                      '?start=0',\n                            },\n                            next: {\n                                method: 'GET',\n                                href: '/api/review-requests/123/reviews/' +\n                                      '?start=25',\n                            },\n                        },\n                        reviews: [\n                            {\n                                id: 1,\n                                links: {},\n                            },\n                            {\n                                id: 2,\n                                links: {},\n                            },\n                        ],\n                    });\n                });\n\n                collection.hasPrev = true;\n                collection.currentPage = 2;\n                collection._links = {\n                    prev: {\n                        method: 'GET',\n                        href: '/api/review-requests/123/reviews/?start=25',\n                    },\n                };\n\n                spyOn(collection, 'fetch').and.callThrough();\n\n                const result = collection.fetchPrev();\n\n                expect(result).toBe(true);\n                expect(collection.fetch).toHaveBeenCalled();\n                expect(collection.hasPrev).toBe(true);\n                expect(collection.hasNext).toBe(true);\n                expect(collection.currentPage).toBe(1);\n                expect(collection.models.length).toBe(2);\n            });\n        });\n\n        describe('parse', function() {\n            let payload;\n\n            beforeEach(function() {\n                payload = {\n                    links: {},\n                    total_results: 5,\n                    reviews: [],\n                };\n            });\n\n            it('Resources returned', function() {\n                payload.reviews = [\n                    { id: 1 },\n                    { id: 2 },\n                    { id: 3 },\n                ];\n\n                const results = collection.parse(payload);\n\n                expect(results.length).toBe(3);\n                expect(results[0].id).toBe(1);\n                expect(results[1].id).toBe(2);\n                expect(results[2].id).toBe(3);\n            });\n\n            it('totalResults set', function() {\n                collection.parse(payload);\n                expect(collection.totalResults).toBe(5);\n            });\n\n            describe('With fetchingAll', function() {\n                const options = {\n                    fetchingAll: true,\n                };\n\n                it('currentPage = 0', function() {\n                    collection.parse(payload, options);\n                    expect(collection.currentPage).toBe(0);\n                });\n\n                it('hasPrev disabled', function() {\n                    collection.parse(payload, options);\n                    expect(collection.hasPrev).toBe(false);\n                });\n\n                it('hasNext disabled', function() {\n                    collection.parse(payload, options);\n                    expect(collection.hasNext).toBe(false);\n                });\n            });\n\n            describe('Without fetchingAll', function() {\n                describe('currentPage', function() {\n                    it('undefined when not options.page', function() {\n                        collection.parse(payload);\n                        expect(collection.currentPage).toBe(undefined);\n                    });\n\n                    it('Set when options.page', function() {\n                        collection.parse(payload, {\n                            page: 4,\n                        });\n\n                        expect(collection.currentPage).toBe(4);\n                    });\n                });\n\n                describe('hasPrev', function() {\n                    it('true with rsp.links.prev', function() {\n                        payload.links = {\n                            prev: {\n                                href: 'blah',\n                            },\n                        };\n\n                        collection.parse(payload);\n                        expect(collection.hasPrev).toBe(true);\n                    });\n\n                    it('false without rsp.links.prev', function() {\n                        collection.parse(payload);\n                        expect(collection.hasPrev).toBe(false);\n                    });\n                });\n\n                describe('hasNext', function() {\n                    it('true with rsp.links.next', function() {\n                        payload.links = {\n                            next: {\n                                href: 'blah',\n                            },\n                        };\n\n                        collection.parse(payload);\n                        expect(collection.hasNext).toBe(true);\n                    });\n\n                    it('false without rsp.links.next', function() {\n                        collection.parse(payload);\n                        expect(collection.hasNext).toBe(false);\n                    });\n                });\n            });\n        });\n\n        describe('url', function() {\n            it('With parentResource', function() {\n                expect(collection.url())\n                    .toBe('/api/review-requests/123/reviews/');\n            });\n\n            it('With _fetchURL', function() {\n                collection._fetchURL = '/api/foo/';\n                expect(collection.url()).toBe('/api/foo/');\n            });\n\n            it('Without _fetchURL or parentResource', function() {\n                collection.parentResource = null;\n                expect(collection.url()).toBe(null);\n            });\n        });\n    });\n});\n"]}